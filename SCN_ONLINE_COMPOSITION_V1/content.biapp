<bi:biapp bi:version="1400" xmlns:bi="http://xml.sap.com/2011/biml/biapp" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns="http://www.w3.org/TR/REC-html40" xmlns:h="http://www.w3.org/TR/REC-html40" xmlns:sdk1="com.sap.ip.bi" sdk1:version="1.0" xmlns:sdk2="org.scn.community.basics" sdk2:version="1.0" xmlns:sdk3="org.scn.community.databound" sdk3:version="1.0" xmlns:sdk4="org.scn.community.utils" sdk4:version="1.0">
	<bi:component name="APPLICATION_PROPERTIES" type="APPLICATION_PROPERTIES">
		<bi:property name="THEME" value="sap_bluecrystal"/>
		<bi:property name="CUSTOM_CSS" value="org_scn_global.css"/>
		<bi:property name="ON_STARTUP">
			<bi:value><![CDATA[
SCRIPT_STARTUP.onStartup();
]]></bi:value>
		</bi:property>
		<bi:property name="GLOBALVARIABLES" type="UNORDEREDLIST">
			<bi:property name="GLOBALVARIABLE" index="0">
				<bi:property name="NAME" value="XSYSTEM"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
				<bi:property name="URL_PARAM" value="X"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="1">
				<bi:property name="NAME" value="XNAME"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
				<bi:property name="URL_PARAM" value="X"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="2">
				<bi:property name="NAME" value="XTYPE"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
				<bi:property name="URL_PARAM" value="X"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="3">
				<bi:property name="NAME" value="XCOMPOSITION"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
				<bi:property name="URL_PARAM" value="X"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="4">
				<bi:property name="NAME" value="CURRENT_TITLE"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="5">
				<bi:property name="NAME" value="UNDO_BOOKMARK_ID"/>
				<bi:property name="VALUE" value="&apos;&apos;"/>
			</bi:property>
			<bi:property name="GLOBALVARIABLE" index="6">
				<bi:property name="NAME" value="DATA_SOURCE_RELOAD_LOCK"/>
				<bi:property name="VALUE" value="false"/>
			</bi:property>
		</bi:property>
		<bi:property name="PROMPT_MODE" value="SFIN"/>
		<bi:property name="BACK_NAVIGATION_ENABLED_STEPS" value="10"/>
	</bi:component>
	<bi:data_source_alias name="DS_1" type="QUERY_DATA_SOURCE">
		<bi:property name="DATA_SOURCE_DEFINITION">
			<bi:property name="DATA_SOURCE_CONNECTION" value=""/>
			<bi:property name="DATA_SOURCE_TYPE" type="CHOICE" value="QUERY"/>
			<bi:property name="DATA_SOURCE_NAME" value=""/>
		</bi:property>
		<bi:property name="ON_RESULTSETCHANGED">
			<bi:value><![CDATA[
SCRIPT_DS.onDsChange();
]]></bi:value>
		</bi:property>
	</bi:data_source_alias>
	<bi:component name="ROOT" type="ABSOLUTE_LAYOUT_COMPONENT">
		<bi:component name="HEADER_PANEL" type="PANEL_COMPONENT">
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="HEIGHT" value="80"/>
			<bi:property name="CSS_CLASS" value="border-style-bottom"/>
			<bi:component name="APPLICATION_HEADER" type="org_scn_community_basics_ApplicationHeader">
				<bi:property name="HEIGHT" value="49"/>
				<bi:property name="logoSrc" value="scn_go.png"/>
			</bi:component>
			<bi:component name="HEADER_MAIN_MENU" type="org_scn_community_basics_ActionSheetButton">
				<bi:property name="LEFT_MARGIN" value="6"/>
				<bi:property name="TOP_MARGIN" value="34"/>
				<bi:property name="placement" value="Bottom"/>
				<bi:property name="items" value="[{&quot;key&quot;:&quot;DIALOG_OPEN&quot;,&quot;text&quot;:&quot;Search for Data Source...&quot;,&quot;icon&quot;:&quot;sap-icon://open-folder&quot;},{&quot;key&quot;:&quot;CHANGE_PROMPTS&quot;,&quot;text&quot;:&quot;Change Prompts...&quot;,&quot;icon&quot;:&quot;sap-icon://approvals&quot;}]"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="onPopoverSelect">
					<bi:value><![CDATA[
if(HEADER_MAIN_MENU.getSelectedKey() == "DIALOG_OPEN") {
	SCRIPT_DIALOG.callOpenDialog();
}

if(HEADER_MAIN_MENU.getSelectedKey() == "CHANGE_PROMPTS") {
	APPLICATION.openPromptDialog(950, 700);
}
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="HEADER_CENTER" type="PANEL_COMPONENT">
				<bi:property name="CSS_CLASS" value="header-center-frame"/>
				<bi:property name="TOP_MARGIN" value="36"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="WIDTH" value="420"/>
				<bi:property name="LEFT_MARGIN" value="500"/>
				<bi:component name="HEADER_DEFINE" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="140"/>
					<bi:property name="dIcon" value="e120"/>
					<bi:property name="dText" value="Define"/>
					<bi:property name="dStyle" value="Emph"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchAppAreas(HEADER_DEFINE);
]]></bi:value>
					</bi:property>
				</bi:component>
				<bi:component name="HEADER_COMPOSE" type="org_scn_community_basics_FioriButton">
					<bi:property name="LEFT_MARGIN" value="150"/>
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="140"/>
					<bi:property name="dIcon" value="e122"/>
					<bi:property name="dText" value="Compose"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchAppAreas(HEADER_COMPOSE);
]]></bi:value>
					</bi:property>
				</bi:component>
				<bi:component name="HEADER_SHARE" type="org_scn_community_basics_FioriButton">
					<bi:property name="LEFT_MARGIN" value="300"/>
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="140"/>
					<bi:property name="dIcon" value="e0a7"/>
					<bi:property name="dText" value="Share"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchAppAreas(HEADER_SHARE);
]]></bi:value>
					</bi:property>
				</bi:component>
			</bi:component>
			<bi:component name="HEADER_UNDO" type="org_scn_community_basics_FioriButton">
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="WIDTH" value="48"/>
				<bi:property name="dIcon" value="e1e0"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
var available = State.isBackOneStepAvailable();
if(available) {
	State.backOneStep();
}
]]></bi:value>
				</bi:property>
				<bi:property name="RIGHT_MARGIN" value="126"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="TOP_MARGIN" value="38"/>
			</bi:component>
			<bi:component name="HEADER_SPLITTER_RIGHT" type="PANEL_COMPONENT">
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="TOP_MARGIN" value="38"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="WIDTH" value="10"/>
				<bi:property name="RIGHT_MARGIN" value="110"/>
				<bi:property name="CSS_CLASS" value="border-style-left"/>
			</bi:component>
			<bi:component name="TEXT_1" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Community Online Composition"/>
				<bi:property name="WIDTH" value="600"/>
				<bi:property name="HEIGHT" value="20"/>
				<bi:property name="TOP_MARGIN" value="12"/>
				<bi:property name="LEFT_MARGIN" value="73"/>
				<bi:property name="CSS_CLASS" value="dialog-title"/>
				<bi:property name="CSS_STYLE" value="color: gold !important;"/>
			</bi:component>
			<bi:component name="PANEL_1" type="PANEL_COMPONENT">
				<bi:property name="LEFT_MARGIN" value="300"/>
				<bi:property name="TOP_MARGIN" value="38"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="WIDTH" value="10"/>
				<bi:property name="CSS_CLASS" value="border-style-left"/>
			</bi:component>
		</bi:component>
		<bi:component name="DEFINE_MAIN_PANEL" type="PANEL_COMPONENT">
			<bi:property name="TOP_MARGIN" value="81"/>
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:property name="BOTTOM_MARGIN" value="40"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="HEIGHT" value="auto"/>
			<bi:property name="CSS_CLASS" value="border-style-bottom2"/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:component name="MULTILEVEL_FILTER" type="org_scn_community_basics_FioriButton">
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="WIDTH" value="48"/>
				<bi:property name="TOP_MARGIN" value="-43"/>
				<bi:property name="LEFT_MARGIN" value="306"/>
				<bi:property name="dIcon" value="e03c"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
PANEL_MULTILEVEL_FILTER.setVisible(true);
DIALOG_BACKGROUND.setVisible(true);
]]></bi:value>
				</bi:property>
				<bi:property name="dTooltip" value="Show Hierarchical Filter"/>
				<bi:property name="VISIBLE" value=""/>
			</bi:component>
			<bi:component name="DEFINE_FILTER_PANEL" type="PANEL_COMPONENT">
				<bi:property name="BOTTOM_MARGIN" value="102"/>
				<bi:property name="WIDTH" value="300"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="CSS_CLASS" value="border-style-right"/>
				<bi:component name="DEFINE_PAGEBOOK_NAVIGATION" type="PAGEBOOK_COMPONENT">
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="RIGHT_MARGIN" value="-1"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:property name="TOP_MARGIN" value="40"/>
					<bi:property name="LEFT_MARGIN" value="1"/>
					<bi:property name="ENABLE_SWIPING" value=""/>
					<bi:component name="PAGE_NAVIGATION" type="PAGE_COMPONENT">
						<bi:component name="PANEL_NAVIGATION" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top border-style-bottom"/>
							<bi:component name="PANEL_NAVIGATION_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Navigation"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_NAVIGATION_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="1"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="BOTTOM_MARGIN" value="1"/>
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="DEFINE_FILTER_NAVIGATION" type="FILTERPANEL_COMPONENT">
									<bi:property name="RIGHT_MARGIN" value="1"/>
									<bi:property name="BOTTOM_MARGIN" value="1"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="HEIGHT" value="auto"/>
									<bi:property name="DATA_SOURCE_ALIAS_REF" value="DS_1"/>
									<bi:property name="PANEL_MODE" value="ALL"/>
									<bi:property name="NAVIGATION_DRAG_DROP" value="X"/>
									<bi:property name="CSS_CLASS" value="filterdialog"/>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
					<bi:component name="PAGE_CHART_TYPE" type="PAGE_COMPONENT">
						<bi:component name="PANEL_CHART_TYPE" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_CHART_TYPE_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Fragment Type Selector"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="TEXT_CHART_TYPE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Chart Type"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="19"/>
								<bi:property name="RIGHT_MARGIN" value="32"/>
								<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								<bi:property name="BOTTOM_MARGIN" value="110"/>
							</bi:component>
							<bi:component name="DROPDOWN_CHART_TYPE" type="DROPDOWN_COMPONENT">
								<bi:property name="LEFT_MARGIN" value="32"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="BOTTOM_MARGIN" value="80"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="32"/>
								<bi:property name="ON_SELECT">
									<bi:value><![CDATA[
CHART.setChartType(DROPDOWN_CHART_TYPE.getSelectedValue());

CHART.setVisible(true);
CROSSTAB.setVisible(false);
TABLE2D.setVisible(false);

SCRIPT_STATE.assureFragmentSaved();
]]></bi:value>
								</bi:property>
							</bi:component>
							<bi:component name="PANEL_CHART_TYPE_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="1"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="CHART_TYPE_TABLE" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="10"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;CROSSTAB&quot;,&quot;text&quot;:&quot;Cross Table&quot;,&quot;icon&quot;:&quot;sap-icon://table-chart&quot;},{&quot;key&quot;:&quot;TABLE2D&quot;,&quot;text&quot;:&quot;Table 2D&quot;,&quot;icon&quot;:&quot;sap-icon://table-view&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
CHART.setVisible(false);
CROSSTAB.setVisible(false);
TABLE2D.setVisible(false);

if(CHART_TYPE_TABLE.getSelectedKey() == "CROSSTAB") {
	CROSSTAB.setVisible(true);
}

if(CHART_TYPE_TABLE.getSelectedKey() == "TABLE2D") {
	TABLE2D.setVisible(true);
}

SCRIPT_STATE.assureFragmentSaved();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://table-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_BAR" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="86"/>
									<bi:property name="TOP_MARGIN" value="10"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;LINE&quot;,&quot;text&quot;:&quot;Line Chart&quot;,&quot;icon&quot;:&quot;sap-icon://line-chart&quot;},{&quot;key&quot;:&quot;HORIZONTAL_LINE&quot;,&quot;text&quot;:&quot;Horizontal Line Chart&quot;,&quot;icon&quot;:&quot;sap-icon://crossed-line-chart&quot;},{&quot;key&quot;:&quot;DUAL_LINE1&quot;,&quot;text&quot;:&quot;Dual Line Chart&quot;,&quot;icon&quot;:&quot;sap-icon://line-chart-dual-axis&quot;},{&quot;key&quot;:&quot;DUAL_COMBINATION2&quot;,&quot;text&quot;:&quot;Dual Combination Chart&quot;,&quot;icon&quot;:&quot;sap-icon://multiple-line-chart&quot;},{&quot;key&quot;:&quot;DUAL_HORIZONTAL_COMBINATION&quot;,&quot;text&quot;:&quot;Dual Horizontal Combination&quot;,&quot;icon&quot;:&quot;sap-icon://line-charts&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_BAR.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://line-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_LINES" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="156"/>
									<bi:property name="TOP_MARGIN" value="10"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;VERTICAL_BAR&quot;,&quot;text&quot;:&quot;Bar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://vertical-bar-chart&quot;},{&quot;key&quot;:&quot;STACKED_COLUMN&quot;,&quot;text&quot;:&quot;Stacked Column Chart&quot;,&quot;icon&quot;:&quot;sap-icon://vertical-stacked-chart&quot;},{&quot;key&quot;:&quot;STACKED_100_COLUMN&quot;,&quot;text&quot;:&quot;100% Stacked Column Chart&quot;,&quot;icon&quot;:&quot;sap-icon://full-stacked-column-chart&quot;},{&quot;key&quot;:&quot;COLUMN_COMBINATION&quot;,&quot;text&quot;:&quot;Column Combination Chart&quot;,&quot;icon&quot;:&quot;sap-icon://multiple-bar-chart&quot;},{&quot;key&quot;:&quot;DUAL_COLUMN&quot;,&quot;text&quot;:&quot;Dual Column Chart&quot;,&quot;icon&quot;:&quot;sap-icon://column-chart-dual-axis&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_LINES.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://vertical-bar-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_SCATTER" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="226"/>
									<bi:property name="TOP_MARGIN" value="10"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;HORIZONTAL_BAR&quot;,&quot;text&quot;:&quot;Bar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://horizontal-bar-chart&quot;},{&quot;key&quot;:&quot;STACKED_BAR&quot;,&quot;text&quot;:&quot;Stacked Bar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://horizontal-stacked-chart&quot;},{&quot;key&quot;:&quot;STACKED_100_BAR&quot;,&quot;text&quot;:&quot;100% Stacked Bar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://full-stacked-chart&quot;},{&quot;key&quot;:&quot;BAR_COMBINATION&quot;,&quot;text&quot;:&quot;Bar Combination Chart&quot;,&quot;icon&quot;:&quot;sap-icon://multiple-bar-chart&quot;},{&quot;key&quot;:&quot;DUAL_BAR&quot;,&quot;text&quot;:&quot;Dual Bar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://horizontal-bar-chart-2&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_SCATTER.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://horizontal-bar-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_MAP" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;PIE&quot;,&quot;text&quot;:&quot;Pie Chart&quot;,&quot;icon&quot;:&quot;sap-icon://pie-chart&quot;},{&quot;key&quot;:&quot;MULTI_PIE&quot;,&quot;text&quot;:&quot;Multiple Pie Chart&quot;,&quot;icon&quot;:&quot;sap-icon://multiple-pie-chart&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_MAP.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://pie-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_WATER" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="156"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;WATERFALL&quot;,&quot;text&quot;:&quot;Waterfall Chart&quot;,&quot;icon&quot;:&quot;sap-icon://vertical-stacked-chart&quot;},{&quot;key&quot;:&quot;HORIZONTAL_WATERFALL&quot;,&quot;text&quot;:&quot;Horizontal Waterfall Chart&quot;,&quot;icon&quot;:&quot;sap-icon://horizontal-stacked-chart&quot;},{&quot;key&quot;:&quot;STACKED_WATERFALL&quot;,&quot;text&quot;:&quot;Stacked Waterfall Chart&quot;,&quot;icon&quot;:&quot;sap-icon://upstacked-chart&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_WATER.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://vertical-stacked-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_AREA" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="86"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;SURFACE&quot;,&quot;text&quot;:&quot;Area Chart&quot;,&quot;icon&quot;:&quot;sap-icon://area-chart&quot;},{&quot;key&quot;:&quot;HORIZONTAL_AREA&quot;,&quot;text&quot;:&quot;Horizontal Area Chart&quot;,&quot;icon&quot;:&quot;sap-icon://area-chart&quot;},{&quot;key&quot;:&quot;RADAR&quot;,&quot;text&quot;:&quot;Radar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://radar-chart&quot;},{&quot;key&quot;:&quot;MULTI_RADAR&quot;,&quot;text&quot;:&quot;Multipe Radar Chart&quot;,&quot;icon&quot;:&quot;sap-icon://multiple-radar-chart&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_AREA.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://area-chart"/>
								</bi:component>
								<bi:component name="CHART_TYPE_BUBBLE" type="org_scn_community_basics_ActionSheetButton">
									<bi:property name="LEFT_MARGIN" value="226"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="placement" value="Bottom"/>
									<bi:property name="items" value="[{&quot;key&quot;:&quot;BUBBLE&quot;,&quot;text&quot;:&quot;Bubble Chart&quot;,&quot;icon&quot;:&quot;sap-icon://bubble-chart&quot;},{&quot;key&quot;:&quot;SCATTER&quot;,&quot;text&quot;:&quot;Scatter Chart&quot;,&quot;icon&quot;:&quot;sap-icon://scatter-chart&quot;}]"/>
									<bi:property name="HEIGHT" value="40"/>
									<bi:property name="onPopoverSelect">
										<bi:value><![CDATA[
DROPDOWN_CHART_TYPE.setSelectedValue(CHART_TYPE_BUBBLE.getSelectedKey());
DROPDOWN_CHART_TYPE.onSelect();
]]></bi:value>
									</bi:property>
									<bi:property name="icon" value="sap-icon://bubble-chart"/>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_CHART_TYPE_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="1"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="dialog-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:property name="VISIBLE" value=""/>
								<bi:component name="PANEL_CHART_TYPE_OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_CHART_TYPE_CHECKBOX_APPLY.setChecked(true);
PANEL_CHART_TYPE_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_CHART_TYPE_CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_CHART_TYPE_CHECKBOX_APPLY.isChecked()) {

} else {
	
}
]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
				</bi:component>
				<bi:component name="LEFT_NAVIGATION" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e176"/>
					<bi:property name="dStyle" value="Emph"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchLeftArea(LEFT_NAVIGATION);
]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="8"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Navigation"/>
				</bi:component>
				<bi:component name="LEFT_CHART_TYPE" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e11f"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchLeftArea(LEFT_CHART_TYPE);
]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="58"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Fragment Type Selector"/>
				</bi:component>
			</bi:component>
			<bi:component name="DEFINE_CENTER_PANEL" type="PANEL_COMPONENT">
				<bi:property name="LEFT_MARGIN" value="301"/>
				<bi:property name="RIGHT_MARGIN" value="261"/>
				<bi:property name="BOTTOM_MARGIN" value="102"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:component name="PANEL_CONTENT" type="PANEL_COMPONENT">
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="RIGHT_MARGIN" value="0"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:component name="TABLE2D" type="org_scn_community_databound_Table2D">
						<bi:property name="DATA_SOURCE_ALIAS_REF" value="DS_1"/>
						<bi:property name="data" value="{}"/>
						<bi:property name="VISIBLE" value=""/>
						<bi:property name="CSS_CLASS" value="make-scrolls"/>
						<bi:property name="TOP_MARGIN" value="46"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="0"/>
						<bi:property name="HEIGHT" value="auto"/>
						<bi:property name="BOTTOM_MARGIN" value="0"/>
						<bi:property name="LEFT_MARGIN" value="0"/>
					</bi:component>
					<bi:component name="CROSSTAB" type="CROSSTAB_COMPONENT">
						<bi:property name="TOP_MARGIN" value="46"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="2"/>
						<bi:property name="HEIGHT" value="auto"/>
						<bi:property name="BOTTOM_MARGIN" value="2"/>
						<bi:property name="DATA_SOURCE_ALIAS_REF" value="DS_1"/>
						<bi:property name="LEFT_MARGIN" value="2"/>
					</bi:component>
					<bi:component name="CHART" type="CHART_COMPONENT">
						<bi:property name="TOP_MARGIN" value="46"/>
						<bi:property name="RIGHT_MARGIN" value="0"/>
						<bi:property name="BOTTOM_MARGIN" value="0"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="HEIGHT" value="auto"/>
						<bi:property name="DATA_SOURCE_ALIAS_REF" value="DS_1"/>
						<bi:property name="CHART_BACKGROUNDCOLOR" value="{&quot;colorValue&quot;:&quot;&quot;,&quot;colorValidValues&quot;:[null,&quot;Transparent&quot;],&quot;selectedValidValue&quot;:[null,&quot;No Fill&quot;],&quot;selectedValue&quot;:&quot;No Fill&quot;}"/>
						<bi:property name="TYPE" type="CHOICE" value="HORIZONTAL_STACKED_100_BAR">
							<bi:property name="HORIZONTAL_STACKED_100_BAR">
								<bi:property name="properties" value="">
									<bi:property name="xAxis" value="">
										<bi:property name="title" value="">
											<bi:property name="visible" value="X"/>
										</bi:property>
										<bi:property name="maxSizeRatio" value="0.75"/>
										<bi:property name="label" value="">
											<bi:property name="hideSubLevels" value=""/>
										</bi:property>
									</bi:property>
									<bi:property name="yAxis" value="">
										<bi:property name="title" value="">
											<bi:property name="visible" value="X"/>
										</bi:property>
										<bi:property name="maxSizeRatio" value="0.75"/>
									</bi:property>
									<bi:property name="legend" value="">
										<bi:property name="isHierarchical" value="X"/>
									</bi:property>
									<bi:property name="dataLabel" value="">
										<bi:property name="visible" value="X"/>
										<bi:property name="formatString" value="Default"/>
									</bi:property>
								</bi:property>
							</bi:property>
						</bi:property>
						<bi:property name="ADDITIONAL_PROPERTIES">
							<bi:value><![CDATA[
{"dataSeriesFormat":{"data":["#00994D","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F"],"changedData":{"0":"#00994D"}},"actualCVOMProperties":true,"CHARTTYPE_METADATA":{"properties":{"dataLabel":{"position":"outside"}}}}
]]></bi:value>
						</bi:property>
					</bi:component>
					<bi:component name="TITLE_TEXT" type="TEXT_COMPONENT">
						<bi:property name="TEXT" value="Title"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="44"/>
						<bi:property name="CSS_CLASS" value="content-title"/>
						<bi:property name="TOP_MARGIN" value="6"/>
						<bi:property name="HEIGHT" value="34"/>
						<bi:property name="LEFT_MARGIN" value="44"/>
					</bi:component>
					<bi:component name="TEXT_SETTINGS" type="TEXT_COMPONENT">
						<bi:property name="VISIBLE" value=""/>
					</bi:component>
					<bi:component name="MENU_BUTTON" type="org_scn_community_basics_ActionSheetButton">
						<bi:property name="LEFT_MARGIN" value="2"/>
						<bi:property name="TOP_MARGIN" value="0"/>
						<bi:property name="placement" value="Right"/>
						<bi:property name="items" value="[{&quot;key&quot;:&quot;NO_ACTION&quot;,&quot;text&quot;:&quot;No Action Today&quot;,&quot;icon&quot;:&quot;sap-icon://menu&quot;}]"/>
						<bi:property name="HEIGHT" value="30"/>
						<bi:property name="onPopoverSelect">
							<bi:value><![CDATA[
SCRIPT_FRAGMENT.onContentMenu(MENU_BUTTON, SETTINGS_BUTTON, DS_1, CHART, CROSSTAB, TITLE_TEXT);
]]></bi:value>
						</bi:property>
						<bi:property name="WIDTH" value="40"/>
						<bi:property name="CSS_CLASS" value="30x30"/>
						<bi:property name="icon" value="sap-icon://menu"/>
					</bi:component>
					<bi:component name="SETTINGS_BUTTON" type="org_scn_community_basics_ActionSheetButton">
						<bi:property name="TOP_MARGIN" value="0"/>
						<bi:property name="placement" value="Left"/>
						<bi:property name="items" value="[{&quot;key&quot;:&quot;REGISTER_FRAGMENT&quot;,&quot;text&quot;:&quot;Register Fragment&quot;,&quot;icon&quot;:&quot;sap-icon://pushpin-on&quot;}]"/>
						<bi:property name="HEIGHT" value="30"/>
						<bi:property name="onPopoverSelect">
							<bi:value><![CDATA[
SCRIPT_FRAGMENT.onContentSettings(SETTINGS_BUTTON, MENU_BUTTON, DS_1, CHART, CROSSTAB, TITLE_TEXT);
]]></bi:value>
						</bi:property>
						<bi:property name="WIDTH" value="40"/>
						<bi:property name="CSS_CLASS" value="30x30"/>
						<bi:property name="RIGHT_MARGIN" value="2"/>
						<bi:property name="icon" value="sap-icon://action-settings"/>
					</bi:component>
				</bi:component>
			</bi:component>
			<bi:component name="DEFINE_PROPERTIES_PANEL" type="PANEL_COMPONENT">
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="102"/>
				<bi:property name="WIDTH" value="260"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="CSS_CLASS" value="border-style-left"/>
				<bi:component name="DEFINE_PAGEBOOK_SETTINGS" type="PAGEBOOK_COMPONENT">
					<bi:property name="RIGHT_MARGIN" value="0"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="TOP_MARGIN" value="40"/>
					<bi:component name="PAGE_DATA" type="PAGE_COMPONENT">
						<bi:component name="PANEL_SETTINGS_DATA_GENERAL" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_SETTINGS_DATA_GENERAL_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="dialog-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.setChecked(true);
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	DS_1.setZeroDisplay(ZeroDisplay.CUSTOM, PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.getValue());

	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.onSelect();
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.onSelect();
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.onSelect();
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.onSelect();
	PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_SWAP_AXES.onClick();
	
	SCRIPT_STATE.assureFragmentSaved();
} else {
	
}
]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Data Source Properties"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_SETTINGS_DATA_GENERAL_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="CSS_STYLE" value="&#13;&#10;"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TEXT_ZERO_VISUALIZATION_TITLE" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Zero Display"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="10"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="RIGHT_MARGIN" value="32"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="40"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	var selectedZero = PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.getSelectedValue();
	
	if(selectedZero == "CUSTOM") {
	//	DS_1.setZeroDisplay(ZeroDisplay.CUSTOM, "");
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(true);
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue(DS_1.getZeroDisplayCustomText());
		
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(true);
		
		DS_1.setZeroDisplay(ZeroDisplay.CUSTOM, PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.getValue());
	} else {
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(false);

		if(selectedZero == "DEFAULT") {
			DS_1.setZeroDisplay(ZeroDisplay.DEFAULT);
		}
		if(selectedZero == "EMPTY_CELL") {
			DS_1.setZeroDisplay(ZeroDisplay.EMPTY_CELL);
		}
		if(selectedZero == "WITHOUT_CURRENCY_UNIT") {
			DS_1.setZeroDisplay(ZeroDisplay.WITHOUT_CURRENCY_UNIT);
		}
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO" type="INPUTFIELD_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="48"/>
									<bi:property name="TOP_MARGIN" value="70"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="ON_CHANGE">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	var selectedZero = PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.getSelectedValue();
	
	if(selectedZero == "CUSTOM") {
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(true);
		PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue(DS_1.getZeroDisplayCustomText());
		
		DS_1.setZeroDisplay(ZeroDisplay.CUSTOM, PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.getValue());
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TEXT_NEGATIVE_TITLE" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Negative Value Display"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="110"/>
									<bi:property name="WIDTH" value="222"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="140"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	var selectedNegativeNumer = PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.getSelectedValue();

	if(selectedNegativeNumer == "LEADING_MINUS") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.LEADING_MINUS);
	}
	if(selectedNegativeNumer == "PARENTHESES") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.PARENTHESES);
	}
	if(selectedNegativeNumer == "TRAILING_MINUS") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.TRAILING_MINUS);
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TEXT_TOTALS_POSITION" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Totals&apos; Position"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="170"/>
									<bi:property name="WIDTH" value="222"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TEXT_COLUMNS" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Columns:"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="202"/>
									<bi:property name="WIDTH" value="70"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="102"/>
									<bi:property name="TOP_MARGIN" value="200"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	var selectedPosition = PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.getSelectedValue();
	
	if(selectedPosition == "DEFAULT") {
		DS_1.setTotalsPosition(Axis.COLUMNS, TotalsPosition.DEFAULT);
	}
	if(selectedPosition == "BEFORE") {
		DS_1.setTotalsPosition(Axis.COLUMNS, TotalsPosition.BEFORE);
	}
	if(selectedPosition == "AFTER") {
		DS_1.setTotalsPosition(Axis.COLUMNS, TotalsPosition.AFTER);
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
									<bi:property name="WIDTH" value="auto"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_TEXT_ROWS" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Rows:"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="232"/>
									<bi:property name="WIDTH" value="70"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="102"/>
									<bi:property name="TOP_MARGIN" value="230"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()) {
	var selectedPosition = PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.getSelectedValue();
	
	if(selectedPosition == "DEFAULT") {
		DS_1.setTotalsPosition(Axis.ROWS, TotalsPosition.DEFAULT);
	}
	if(selectedPosition == "BEFORE") {
		DS_1.setTotalsPosition(Axis.ROWS, TotalsPosition.BEFORE);
	}
	if(selectedPosition == "AFTER") {
		DS_1.setTotalsPosition(Axis.ROWS, TotalsPosition.AFTER);
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
									<bi:property name="WIDTH" value="auto"/>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_SWAP_AXES" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Swap Axes"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.isChecked()){
	CHART.swapAxes(PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_SWAP_AXES.isChecked());	
}
]]></bi:value>
									</bi:property>
									<bi:property name="TOP_MARGIN" value="270"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="RIGHT_MARGIN" value="18"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
					<bi:component name="PAGE_DIMENSION" type="PAGE_COMPONENT">
						<bi:component name="PANEL_DATA_DIM" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_DATA_DIM_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="dialog-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:component name="PANEL_DATA_DIM_BUTTON_OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_DATA_DIM_CHECKBOX_APPLY.setChecked(true);
PANEL_DATA_DIM_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_DATA_DIM_CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_DATA_DIM_CHECKBOX_APPLY.isChecked()) {
	PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.onSelect();
	DIA_DIMENSIONS_RBG_DISPLAY.onSelect();
	DIA_DIMENSIONS_RBG_SHOW_TOTALS.onSelect();
	
	SCRIPT_STATE.assureFragmentSaved();
} else {

}
]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_DATA_DIM_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Dimension Properties"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_DATA_DIM_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="PANEL_DATA_DIM_SELECT" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="RIGHT_MARGIN" value="0"/>
									<bi:property name="HEIGHT" value="70"/>
									<bi:property name="CSS_CLASS" value="dialog-selector"/>
									<bi:component name="PANEL_DATA_DIM_SELECT_TITLE" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Select Dimension..."/>
										<bi:property name="LEFT_MARGIN" value="16"/>
										<bi:property name="TOP_MARGIN" value="7"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										<bi:property name="RIGHT_MARGIN" value="16"/>
									</bi:component>
									<bi:component name="PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS" type="DROPDOWN_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="32"/>
										<bi:property name="TOP_MARGIN" value="38"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="ON_SELECT">
											<bi:value><![CDATA[
var selectedDimension = PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue();

// apply change
if(selectedDimension == "-N/A-") {
	DIA_DIMENSIONS_RBG_DISPLAY.setEnabled(false);
	DIA_DIMENSIONS_RBG_SHOW_TOTALS.setEnabled(false);
	PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.setEnabled(false);
	HIER_TOGGLE.setEnabled(false);
} else {
	DIA_DIMENSIONS_RBG_DISPLAY.setEnabled(true);
	DIA_DIMENSIONS_RBG_SHOW_TOTALS.setEnabled(true);
	PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.setEnabled(true);
	
	var dimensionDescription = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedText();
	
	var display = DS_1.getMemberDisplay(selectedDimension);
	
	if(display == MemberDisplay.KEY) {
		DIA_DIMENSIONS_RBG_DISPLAY.setSelectedValue("KEY");
	}
	if(display == MemberDisplay.KEY_TEXT) {
		DIA_DIMENSIONS_RBG_DISPLAY.setSelectedValue("KEY_TEXT");
	}
	if(display == MemberDisplay.NO_DISPLAY) {
		DIA_DIMENSIONS_RBG_DISPLAY.setSelectedValue("NO_DISPLAY");
	}
	if(display == MemberDisplay.TEXT) {
		DIA_DIMENSIONS_RBG_DISPLAY.setSelectedValue("TEXT");
	}
	if(display == MemberDisplay.TEXT_KEY) {
		DIA_DIMENSIONS_RBG_DISPLAY.setSelectedValue("TEXT_KEY");
	}
	
	var totals = DS_1.getTotalsDisplay(selectedDimension);
	
	if(totals == TotalsDisplay.HIDE) {
		DIA_DIMENSIONS_RBG_SHOW_TOTALS.setSelectedValue("HIDE");
	}
	if(totals == TotalsDisplay.HIDE_IF_ONLY_ONE_MEMBER) {
		DIA_DIMENSIONS_RBG_SHOW_TOTALS.setSelectedValue("HIDE_IF_ONLY_ONE_MEMBER");
	}
	if(totals == TotalsDisplay.SHOW) {
		DIA_DIMENSIONS_RBG_SHOW_TOTALS.setSelectedValue("SHOW");
	}
	
	// prepare current value and preview
	var hierarchies = DS_1.getHierarchies(selectedDimension);
	
	PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.removeAllItems();

	HIER_TOGGLE.setEnabled(false);

	if(hierarchies.length > 0) {
		PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.addItem("-N/A-", "Unassigned Hierarchy");
		
		hierarchies.forEach(function(hier, index) {
		  PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.addItem(hier.name, hier.text);
		});
	} else {
		PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.addItem("-N/A-", "No Hierarchies");
		PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.setEnabled(false);
	}
	
	var hasAssignedHier = DS_1.isHierarchyAssigned(selectedDimension);
	var hasActiveHier = DS_1.isHierarchyActive(selectedDimension);
	var assignedHier = DS_1.getAssignedHierarchy(selectedDimension);
	
	if(hasAssignedHier) {
		PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.setSelectedValue(assignedHier.name);
		HIER_TOGGLE.setEnabled(true);
	}
	
	if(hasActiveHier) {
		HIER_TOGGLE.setPressed(true);
		HIER_TOGGLE.setText("Deactivate Hierarchy");
	} else {
		HIER_TOGGLE.setPressed(false);
		HIER_TOGGLE.setText("Activate Hierarchy");
	}
}
]]></bi:value>
										</bi:property>
										<bi:property name="RIGHT_MARGIN" value="16"/>
									</bi:component>
								</bi:component>
								<bi:component name="TEXT_DIA_DIMENSION_TOTALS" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Show Totals"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="DIA_DIMENSIONS_RBG_SHOW_TOTALS" type="RADIOBUTTONGROUP_COMPONENT">
									<bi:property name="ITEMS" type="ORDEREDLIST">
										<bi:property name="SELECTION_ITEM" index="0">
											<bi:property name="VALUE" value="SHOW"/>
											<bi:property name="TEXT" value="Show"/>
											<bi:property name="SELECTED" value="X"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="1">
											<bi:property name="VALUE" value="HIDE"/>
											<bi:property name="TEXT" value="Hide"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="2">
											<bi:property name="VALUE" value="HIDE_IF_ONLY_ONE_MEMBER"/>
											<bi:property name="TEXT" value="Hide if Only One"/>
										</bi:property>
									</bi:property>
									<bi:property name="TOP_MARGIN" value="110"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="WIDTH" value="190"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_DATA_DIM_CHECKBOX_APPLY.isChecked()) {
	var selectedDimension = PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue();
	var selectedTotal = DIA_DIMENSIONS_RBG_SHOW_TOTALS.getSelectedValue();
	
	if(selectedTotal == "SHOW") {
		DS_1.setTotalsDisplay(selectedDimension, TotalsDisplay.SHOW);
	}
	if(selectedTotal == "HIDE") {
		DS_1.setTotalsDisplay(selectedDimension, TotalsDisplay.HIDE);
	}
	if(selectedTotal == "HIDE_IF_ONLY_ONE_MEMBER") {
		DS_1.setTotalsDisplay(selectedDimension, TotalsDisplay.HIDE_IF_ONLY_ONE_MEMBER);
	}	
}
]]></bi:value>
									</bi:property>
									<bi:property name="HEIGHT" value="auto"/>
								</bi:component>
								<bi:component name="TEXT_DIA_DIMENSION_DISPLAY" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Display"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="194"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="TEXT_DIA_DIMENSION_HIER" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Hierarchies"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="350"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_DATA_DIM_SELECT_DROPDOWN_HIER" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="380"/>
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_DATA_DIM_CHECKBOX_APPLY.isChecked()) {
	var selectedDimension = PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue();
	
	var selectedHierarchy = PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.getSelectedValue();
	
	if(selectedHierarchy != "-N/A-") {
		SCRIPT_LOGIC.activateHierarchy(selectedDimension, selectedHierarchy);
		
		HIER_TOGGLE.setEnabled(true);
		HIER_TOGGLE.setPressed(true);
		HIER_TOGGLE.setText("Deactivate Hierarchy");
	} else {
		SCRIPT_LOGIC.deactivateHierarchy(selectedDimension);

		HIER_TOGGLE.setEnabled(false);
		HIER_TOGGLE.setPressed(false);
		HIER_TOGGLE.setText("Activate Hierarchy");
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="RIGHT_MARGIN" value="32"/>
								</bi:component>
								<bi:component name="DIA_DIMENSIONS_RBG_DISPLAY" type="RADIOBUTTONGROUP_COMPONENT">
									<bi:property name="ITEMS" type="ORDEREDLIST">
										<bi:property name="SELECTION_ITEM" index="0">
											<bi:property name="VALUE" value="KEY"/>
											<bi:property name="TEXT" value="Key"/>
											<bi:property name="SELECTED" value="X"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="1">
											<bi:property name="VALUE" value="KEY_TEXT"/>
											<bi:property name="TEXT" value="Key and Text"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="2">
											<bi:property name="VALUE" value="NO"/>
											<bi:property name="TEXT" value="No Display"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="3">
											<bi:property name="VALUE" value="TEXT"/>
											<bi:property name="TEXT" value="Text"/>
										</bi:property>
										<bi:property name="SELECTION_ITEM" index="4">
											<bi:property name="VALUE" value="TEXT_KEY"/>
											<bi:property name="TEXT" value="Text and Key"/>
										</bi:property>
									</bi:property>
									<bi:property name="TOP_MARGIN" value="224"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="WIDTH" value="194"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_DATA_DIM_CHECKBOX_APPLY.isChecked()) {
	var selectedDimension = PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue();
	var selectedDisplay = DIA_DIMENSIONS_RBG_DISPLAY.getSelectedValue();
	
	if(selectedDisplay == "KEY") {
		DS_1.setMemberDisplay(selectedDimension, MemberDisplay.KEY);
	}
	if(selectedDisplay == "KEY_TEXT") {
		DS_1.setMemberDisplay(selectedDimension, MemberDisplay.KEY_TEXT);
	}
	if(selectedDisplay == "NO_DISPLAY") {
		DS_1.setMemberDisplay(selectedDimension, MemberDisplay.NO_DISPLAY);
	}
	if(selectedDisplay == "TEXT") {
		DS_1.setMemberDisplay(selectedDimension, MemberDisplay.TEXT);
	}
	if(selectedDisplay == "TEXT_KEY") {
		DS_1.setMemberDisplay(selectedDimension, MemberDisplay.TEXT_KEY);
	}
}
]]></bi:value>
									</bi:property>
									<bi:property name="HEIGHT" value="auto"/>
								</bi:component>
								<bi:component name="HIER_TOGGLE" type="org_scn_community_basics_ToggleButton">
									<bi:property name="LEFT_MARGIN" value="auto"/>
									<bi:property name="TOP_MARGIN" value="410"/>
									<bi:property name="RIGHT_MARGIN" value="32"/>
									<bi:property name="text" value="Activate Hierarchy"/>
									<bi:property name="WIDTH" value="150"/>
									<bi:property name="onPress">
										<bi:value><![CDATA[var pressed = HIER_TOGGLE.getPressed();

DEBUG.log("Ac/De hier: Pressd: " + pressed + "; " + PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue() 
	+ "->" + PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.getSelectedValue()
);

if(pressed) {
	SCRIPT_LOGIC.activateHierarchy(PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue(), PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.getSelectedValue());	

	HIER_TOGGLE.setText("Deactivate Hierarchy");
} else {
	SCRIPT_LOGIC.deactivateHierarchy(PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.getSelectedValue());

	HIER_TOGGLE.setText("Activate Hierarchy");
}

SCRIPT_STATE.assureFragmentSaved();
]]></bi:value>
									</bi:property>
									<bi:property name="enabled" value=""/>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
					<bi:component name="PAGE_MEASURE" type="PAGE_COMPONENT">
						<bi:component name="PANEL_MEASURE" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_MEASURE_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="dialog-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:component name="PANEL_MEASURE_OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_MEASURE_CHECKBOX_APPLY.setChecked(true);
PANEL_MEASURE_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_MEASURE_CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_MEASURE_CHECKBOX_APPLY.isChecked()) {
	PANEL_MEASURE_DROPDOWN_DECIMALS.onSelect();
	PANEL_MEASURE_DROPDOWN_NEGATIVE.onSelect();
	PANEL_MEASURE_DROPDOWN_SCALING.onSelect();
	PANEL_MEASURE_DROPDOWN_ZERO.onSelect();
	
	SCRIPT_STATE.assureFragmentSaved();
} else {
	
}
]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_MEASURE_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Measure Properties"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_MEASURE_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="PANEL_MEASURE_TOP" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="auto"/>
									<bi:property name="RIGHT_MARGIN" value="0"/>
									<bi:property name="HEIGHT" value="70"/>
									<bi:property name="CSS_CLASS" value="dialog-selector"/>
									<bi:component name="PANEL_MEASURE_TEXT_SELECT_MEASURE" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Select Measure..."/>
										<bi:property name="LEFT_MARGIN" value="16"/>
										<bi:property name="TOP_MARGIN" value="7"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										<bi:property name="RIGHT_MARGIN" value="16"/>
									</bi:component>
									<bi:component name="PANEL_MEASURE_DROPDOWN_MEASURES" type="DROPDOWN_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="32"/>
										<bi:property name="TOP_MARGIN" value="38"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="ON_SELECT">
											<bi:value><![CDATA[
var selectedMeasure = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedValue();

// apply change
if(selectedMeasure == "-N/A-") {
	PANEL_MEASURE_DROPDOWN_DECIMALS.setEnabled(false);
	PANEL_MEASURE_DROPDOWN_SCALING.setEnabled(false);
	PANEL_MEASURE_DROPDOWN_ZERO.setEnabled(false);
	PANEL_MEASURE_DROPDOWN_NEGATIVE.setEnabled(false);
} else {
	PANEL_MEASURE_DROPDOWN_DECIMALS.setEnabled(true);
	PANEL_MEASURE_DROPDOWN_SCALING.setEnabled(true);
	PANEL_MEASURE_DROPDOWN_ZERO.setEnabled(true);
	PANEL_MEASURE_DROPDOWN_NEGATIVE.setEnabled(true);

	var measureDescription = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedText();
	
	var scalling = DS_1.getScalingFactor(selectedMeasure);
	
	if(scalling == Scaling.FACTOR_DEFAULT) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("DEFAULT");
	}
	if(scalling == Scaling.FACTOR_1) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("1");
	}
	if(scalling == Scaling.FACTOR_10) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("2");
	}
	if(scalling == Scaling.FACTOR_100) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("3");
	}
	if(scalling == Scaling.FACTOR_1000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("4");
	}
	if(scalling == Scaling.FACTOR_10000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("5");
	}
	if(scalling == Scaling.FACTOR_100000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("6");
	}
	if(scalling == Scaling.FACTOR_1000000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("7");
	}
	if(scalling == Scaling.FACTOR_10000000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("8");
	}
	if(scalling == Scaling.FACTOR_100000000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("9");
	}
	if(scalling == Scaling.FACTOR_1000000000) {
		PANEL_MEASURE_DROPDOWN_SCALING.setSelectedValue("10");
	}
	
	var decimal = DS_1.getDecimalPlaces(selectedMeasure);
	
	if(decimal == -1) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("DEFAULT");
	}
	if(decimal == 0) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("0");
	}
	if(decimal == 1) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("1");
	}
	if(decimal == 2) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("2");
	}
	if(decimal == 3) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("3");
	}
	if(decimal == 4) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("4");
	}
	if(decimal == 5) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("5");
	}
	if(decimal == 6) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("6");
	}
	if(decimal == 7) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("7");
	}
	if(decimal == 8) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("8");
	}
	if(decimal == 9) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("9");
	}
	if(decimal == 10) {
		PANEL_MEASURE_DROPDOWN_DECIMALS.setSelectedValue("10");
	}
	
	// prepare current value and preview
	var preview = DS_1.getDataAsString(selectedMeasure, {});
	
	if(preview == "") {
		preview = "Measure Not in Resultset";
		
		PANEL_MEASURE_CURRENT.setText(preview);
		PANEL_MEASURE_PREVIEW.setText("");	
	} else {
		if(preview.indexOf("-") == -1 && preview.indexOf("(") == -1) {
			var selectedNegative = PANEL_MEASURE_DROPDOWN_NEGATIVE.getSelectedValue();
			
			if(selectedNegative == "LEADING_MINUS") {
				preview = "-" + preview;
			}
			
			if(selectedNegative == "PARENTHESES") {
				preview = "(" + preview + ")";
			}
			
			if(selectedNegative == "TRAILING_MINUS") {
				preview = preview + "-";
			}
		}
	
		PANEL_MEASURE_CURRENT.setText(preview);
		PANEL_MEASURE_PREVIEW.setText(preview);	
	}	
}
]]></bi:value>
										</bi:property>
										<bi:property name="RIGHT_MARGIN" value="16"/>
									</bi:component>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_SCALING" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Scaling Factor"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="80"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_DROPDOWN_SCALING" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="110"/>
									<bi:property name="WIDTH" value="194"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_MEASURE_CHECKBOX_APPLY.isChecked()) {
	var selectedMeasure = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedValue();
	
	if(selectedMeasure != "N/A") {
		var selectedScale = PANEL_MEASURE_DROPDOWN_SCALING.getSelectedValue();
		
		var enabled = false;
		
		if(selectedScale == "DEFAULT") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_DEFAULT);
		}
		
		if(selectedScale == "1") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_1);
		}
		if(selectedScale == "2") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_10);
		}
		if(selectedScale == "3") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_100);
		}
		if(selectedScale == "4") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_1000);
		}
		if(selectedScale == "5") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_10000);
		}
		if(selectedScale == "6") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_100000);
		}
		if(selectedScale == "7") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_1000000);
		}
		if(selectedScale == "8") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_10000000);
		}
		if(selectedScale == "9") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_100000000);
		}
		if(selectedScale == "10") {
			DS_1.setScalingFactor(selectedMeasure, Scaling.FACTOR_1000000000);
		}
	}
}

PANEL_MEASURE_UPDATE_PREVIEW.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_NEGATIVE" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Negative Value Display"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="200"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_NEGATIVE_ALL" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="(applies for all measures)"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="225"/>
									<bi:property name="WIDTH" value="196"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_DROPDOWN_NEGATIVE" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="245"/>
									<bi:property name="WIDTH" value="194"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_MEASURE_CHECKBOX_APPLY.isChecked()) {
	var selectedNegativeNumer = PANEL_MEASURE_DROPDOWN_NEGATIVE.getSelectedValue();
	
	if(selectedNegativeNumer == "LEADING_MINUS") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.LEADING_MINUS);
	}
	if(selectedNegativeNumer == "PARENTHESES") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.PARENTHESES);
	}
	if(selectedNegativeNumer == "TRAILING_MINUS") {
		DS_1.setNegativeNumberDisplay(NegativeNumberDisplay.TRAILING_MINUS);
	}
}

PANEL_MEASURE_UPDATE_PREVIEW.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_DECIMALS" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Number of Decimals"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="140"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_DROPDOWN_DECIMALS" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="31"/>
									<bi:property name="TOP_MARGIN" value="170"/>
									<bi:property name="WIDTH" value="194"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_MEASURE_CHECKBOX_APPLY.isChecked()) {
	var selectedMeasure = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedValue();

	if(selectedMeasure != "N/A") {
		var selectedDecimals = PANEL_MEASURE_DROPDOWN_DECIMALS.getSelectedValue();
		
		var enabled = false;
		
		if(selectedDecimals == "DEFAULT") {
			DS_1.setDecimalPlaces(selectedMeasure, -1);
		}
		
		if(selectedDecimals == "0") {
			DS_1.setDecimalPlaces(selectedMeasure, 0);
		}
		if(selectedDecimals == "1") {
			DS_1.setDecimalPlaces(selectedMeasure, 1);
		}
		if(selectedDecimals == "2") {
			DS_1.setDecimalPlaces(selectedMeasure, 2);
		}
		if(selectedDecimals == "3") {
			DS_1.setDecimalPlaces(selectedMeasure, 3);
		}
		if(selectedDecimals == "4") {
			DS_1.setDecimalPlaces(selectedMeasure, 4);
		}
		if(selectedDecimals == "5") {
			DS_1.setDecimalPlaces(selectedMeasure, 5);
		}
		if(selectedDecimals == "6") {
			DS_1.setDecimalPlaces(selectedMeasure, 6);
		}
		if(selectedDecimals == "7") {
			DS_1.setDecimalPlaces(selectedMeasure, 7);
		}
		if(selectedDecimals == "8") {
			DS_1.setDecimalPlaces(selectedMeasure, 8);
		}
		if(selectedDecimals == "9") {
			DS_1.setDecimalPlaces(selectedMeasure, 9);
		}
		if(selectedDecimals == "10") {
			DS_1.setDecimalPlaces(selectedMeasure, 10);
		}
	}
}

PANEL_MEASURE_UPDATE_PREVIEW.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_ZERO" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Zero Display"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="275"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_ZERO_ALL" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="(applies for all measures)"/>
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="300"/>
									<bi:property name="WIDTH" value="196"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_DROPDOWN_ZERO" type="DROPDOWN_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="320"/>
									<bi:property name="WIDTH" value="196"/>
									<bi:property name="ON_SELECT">
										<bi:value><![CDATA[
if(PANEL_MEASURE_CHECKBOX_APPLY.isChecked()) {
	var selectedZero = PANEL_MEASURE_DROPDOWN_ZERO.getSelectedValue();
	
	if(selectedZero == "CUSTOM") {
		DS_1.setZeroDisplay(ZeroDisplay.CUSTOM);
	}
	
	if(selectedZero == "DEFAULT") {
		DS_1.setZeroDisplay(ZeroDisplay.DEFAULT);
	}
	if(selectedZero == "EMPTY_CELL") {
		DS_1.setZeroDisplay(ZeroDisplay.EMPTY_CELL);
	}
	if(selectedZero == "WITHOUT_CURRENCY_UNIT") {
		DS_1.setZeroDisplay(ZeroDisplay.WITHOUT_CURRENCY_UNIT);
	}
}

PANEL_MEASURE_UPDATE_PREVIEW.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_CURRENT" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Current Value"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									<bi:property name="BOTTOM_MARGIN" value="108"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_CURRENT" type="TEXT_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="200"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
									<bi:property name="BOTTOM_MARGIN" value="79"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_TEXT_PREVIEW" type="TEXT_COMPONENT">
									<bi:property name="TEXT" value="Preview"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="210"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									<bi:property name="BOTTOM_MARGIN" value="46"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_PREVIEW" type="TEXT_COMPONENT">
									<bi:property name="LEFT_MARGIN" value="32"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="194"/>
									<bi:property name="HEIGHT" value="19"/>
									<bi:property name="CSS_CLASS" value="label-settings-2"/>
									<bi:property name="BOTTOM_MARGIN" value="17"/>
								</bi:component>
								<bi:component name="PANEL_MEASURE_UPDATE_PREVIEW" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Checkbox"/>
									<bi:property name="TOP_MARGIN" value="-108"/>
									<bi:property name="LEFT_MARGIN" value="-653"/>
									<bi:property name="VISIBLE" value=""/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
var selectedMeasure = PANEL_MEASURE_DROPDOWN_MEASURES.getSelectedValue();

if(selectedMeasure != "N/A") {
	// prepare preview
	var preview = DS_1.getDataAsString(selectedMeasure, {});
	
	if(preview == "") {
		preview = "Measure Not in Resultset";
		
		PANEL_MEASURE_PREVIEW.setText("");	
	} else {
		if(preview.indexOf("-") == -1 && preview.indexOf("(") == -1) {
			var selectedNegative = PANEL_MEASURE_DROPDOWN_NEGATIVE.getSelectedValue();
			
			if(selectedNegative == "LEADING_MINUS") {
				preview = "-" + preview;
			}
			
			if(selectedNegative == "PARENTHESES") {
				preview = "(" + preview + ")";
			}
			
			if(selectedNegative == "TRAILING_MINUS") {
				preview = preview + "-";
			}
		}
	
		PANEL_MEASURE_PREVIEW.setText(preview);	
	}	
}


]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
					<bi:component name="PAGE_FRAGMENT" type="PAGE_COMPONENT">
						<bi:component name="PANEL_SETTINGS" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="258"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_SETTINGS_VIZ_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Fragment Properties"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_SETTINGS_VIZ_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="1"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="dialog-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:component name="PANEL_SETTINGS_VIZ_OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.setChecked(true);
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_VIZ_CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_SETTINGS_VIZ_CHECKBOX_APPLY.isChecked()) {
	CHECKBOX_SHOW_TITLE.onClick();
	
	CHECKBOX_ALLOW_SORTING.onClick();
	CHECKBOX_ALLOW_HIERARCHY.onClick();
	CHECKBOX_ALLOW_RESIZE.onClick();
	CHECKBOX_SHOW_COND_FORMAT.onClick();
	
	SCRIPT_STATE.assureFragmentSaved();
} else {
	
}
]]></bi:value>
									</bi:property>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_SETTINGS_VIZ_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="PANEL_SETTINGS_GENERAL" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="259"/>
									<bi:property name="HEIGHT" value="170"/>
									<bi:component name="TEXT_GENERAL_SETTINGS" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Fragment Settings"/>
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="10"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="RIGHT_MARGIN" value="11"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									</bi:component>
									<bi:component name="PANEL_SETTINGS_GENERAL_WHITE" type="PANEL_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="31"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="RIGHT_MARGIN" value="22"/>
										<bi:property name="HEIGHT" value="auto"/>
										<bi:property name="BOTTOM_MARGIN" value="0"/>
										<bi:component name="TEXT_TITLE_VISIBLITY" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="Title"/>
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="9"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="RIGHT_MARGIN" value="16"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="TEXT_CUSTOM_TITLE" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="Custom Title"/>
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="70"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="RIGHT_MARGIN" value="16"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="CHECKBOX_SHOW_TITLE" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="Title is Visible"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[

if(CHECKBOX_SHOW_TITLE.isChecked()) {
	TITLE_TEXT.setVisible(true);
	// IMAGE_CHANGE_TITLE.setVisible(true);	
} else {
	TITLE_TEXT.setVisible(false);
	// IMAGE_CHANGE_TITLE.setVisible(false);	
}
]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="40"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
										</bi:component>
										<bi:component name="INPUTFIELD_CUSTOM_TITLE" type="INPUTFIELD_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="22"/>
											<bi:property name="TOP_MARGIN" value="100"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="RIGHT_MARGIN" value="16"/>
											<bi:property name="ON_CHANGE">
												<bi:value><![CDATA[if(PANEL_SETTINGS_VIZ_CHECKBOX_APPLY.isChecked()) {
	var customText = INPUTFIELD_CUSTOM_TITLE.getValue();
	
	var settings = TEXT_SETTINGS.getText();

	if(customText != "") {
		TITLE_TEXT.setText(customText);

		if(settings.indexOf(";custom-text")) {
			settings = settings + ";custom-text";
		}

		TEXT_SETTINGS.setText(settings);		
	} else {
		if(settings.indexOf(";custom-text")) {
			settings = Convert.replaceAll(settings, ";custom-text", "");
		}

		TEXT_SETTINGS.setText(settings);

		SCRIPT_DS.updateTitle();
	}

	SCRIPT_STATE.assureFragmentSaved();
}]]></bi:value>
											</bi:property>
										</bi:component>
									</bi:component>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_CHART" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="259"/>
									<bi:property name="HEIGHT" value="190"/>
									<bi:property name="TOP_MARGIN" value="180"/>
									<bi:component name="TEXT_CHART_SETTING" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Chart Settings"/>
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="10"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="RIGHT_MARGIN" value="11"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									</bi:component>
									<bi:component name="PANEL_SETTINGS_CHART_WHITE" type="PANEL_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="31"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="RIGHT_MARGIN" value="22"/>
										<bi:property name="HEIGHT" value="auto"/>
										<bi:property name="BOTTOM_MARGIN" value="0"/>
										<bi:component name="TEXT_CHART_TITLE" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="Scaling"/>
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="9"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="RIGHT_MARGIN" value="17"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="DROPDOWN_AXIS_SCALE_SELECTION" type="DROPDOWN_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="40"/>
											<bi:property name="WIDTH" value="200"/>
											<bi:property name="ITEMS" type="ORDEREDLIST">
												<bi:property name="SELECTION_ITEM" index="0">
													<bi:property name="VALUE" value="NAN"/>
													<bi:property name="TEXT" value="-- select Axis --"/>
													<bi:property name="SELECTED" value="X"/>
												</bi:property>
												<bi:property name="SELECTION_ITEM" index="1">
													<bi:property name="VALUE" value="X_1"/>
													<bi:property name="TEXT" value="Primary X Axis"/>
												</bi:property>
												<bi:property name="SELECTION_ITEM" index="2">
													<bi:property name="VALUE" value="X_2"/>
													<bi:property name="TEXT" value="Secondary X Axis"/>
												</bi:property>
												<bi:property name="SELECTION_ITEM" index="3">
													<bi:property name="VALUE" value="Y_1"/>
													<bi:property name="TEXT" value="Primary Y Axis"/>
												</bi:property>
												<bi:property name="SELECTION_ITEM" index="4">
													<bi:property name="VALUE" value="Y_2"/>
													<bi:property name="TEXT" value="Secondary Y Axis"/>
												</bi:property>
											</bi:property>
											<bi:property name="ON_SELECT">
												<bi:value><![CDATA[
var selectedAxis = DROPDOWN_AXIS_SCALE_SELECTION.getSelectedValue();

var enabled = false;

if(selectedAxis != "NAN") {
	enabled = true;
}

INPUTFIELD_SCALE_MIN.setEnabled(enabled);
INPUTFIELD_SCALE_MAX.setEnabled(enabled);
BUTTON_APPLY_SCALE.setEnabled(enabled);
]]></bi:value>
											</bi:property>
										</bi:component>
										<bi:component name="TEXT_MIN" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="Minimum"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="TOP_MARGIN" value="72"/>
											<bi:property name="WIDTH" value="70"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="INPUTFIELD_SCALE_MIN" type="INPUTFIELD_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="85"/>
											<bi:property name="TOP_MARGIN" value="70"/>
											<bi:property name="WIDTH" value="60"/>
											<bi:property name="ENABLED" value=""/>
										</bi:component>
										<bi:component name="TEXT_MAX" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="Maximum"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="TOP_MARGIN" value="102"/>
											<bi:property name="WIDTH" value="70"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="INPUTFIELD_SCALE_MAX" type="INPUTFIELD_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="85"/>
											<bi:property name="TOP_MARGIN" value="100"/>
											<bi:property name="WIDTH" value="60"/>
											<bi:property name="ENABLED" value=""/>
										</bi:component>
										<bi:component name="BUTTON_APPLY_SCALE" type="BUTTON_COMPONENT">
											<bi:property name="TEXT" value="Apply"/>
											<bi:property name="LEFT_MARGIN" value="auto"/>
											<bi:property name="TOP_MARGIN" value="130"/>
											<bi:property name="WIDTH" value="90"/>
											<bi:property name="HEIGHT" value="22"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[
var selectedAxis = DROPDOWN_AXIS_SCALE_SELECTION.getSelectedValue();

if(selectedAxis != "NAN") {
	var axis = ChartAxisScaling.Y_AXIS;
	
	if(selectedAxis == "X_1") {
		axis = ChartAxisScaling.X_AXIS;
	} else if(selectedAxis == "X_2") {
		axis = ChartAxisScaling.X_AXIS_2;
	} else if(selectedAxis == "Y_1") {
		axis = ChartAxisScaling.Y_AXIS;
	} else if(selectedAxis == "Y_2") {
		axis = ChartAxisScaling.Y_AXIS_2;
	}
	CHART.setAxisScaling(axis, Convert.stringToFloat(INPUTFIELD_SCALE_MIN.getValue()), Convert.stringToFloat(INPUTFIELD_SCALE_MAX.getValue()));

	SCRIPT_STATE.assureFragmentSaved();
}
]]></bi:value>
											</bi:property>
											<bi:property name="ENABLED" value=""/>
											<bi:property name="RIGHT_MARGIN" value="14"/>
										</bi:component>
										<bi:component name="CHECKBOX_SWAP_CHART_AXES" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="%t_chart_swap_axes%"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[

CHART.swapAxes(CHECKBOX_SWAP_AXES.isChecked());
CHECKBOX_SWAP_AXES.setChecked(!CHECKBOX_SWAP_AXES.isChecked());

]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="150"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
											<bi:property name="ENABLED" value=""/>
											<bi:property name="VISIBLE" value=""/>
											<bi:property name="DESIGNER_VISIBLE" value=""/>
										</bi:component>
									</bi:component>
								</bi:component>
								<bi:component name="PANEL_SETTINGS_CROSS" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="259"/>
									<bi:property name="HEIGHT" value="170"/>
									<bi:property name="TOP_MARGIN" value="380"/>
									<bi:component name="TEXT_CROSSTAB_SETTINGS" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Crosstab Settings"/>
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="10"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="RIGHT_MARGIN" value="11"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									</bi:component>
									<bi:component name="PANEL_SETTINGS_CROSS_WHITE" type="PANEL_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="31"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="RIGHT_MARGIN" value="22"/>
										<bi:property name="HEIGHT" value="auto"/>
										<bi:property name="BOTTOM_MARGIN" value="29"/>
										<bi:component name="CHECKBOX_ALLOW_SORTING" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="Allow Sorting"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[
CROSSTAB.setSortingEnabled(CHECKBOX_ALLOW_SORTING.isChecked());
]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="10"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
										</bi:component>
										<bi:component name="CHECKBOX_ALLOW_HIERARCHY" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="Allow Hierarchy"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[

CROSSTAB.setHierarchyNavigationEnabled(CHECKBOX_ALLOW_HIERARCHY.isChecked());

]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="35"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
										</bi:component>
										<bi:component name="CHECKBOX_ALLOW_RESIZE" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="Allow Column Resize"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[

CROSSTAB.setColumnResizingEnabled(CHECKBOX_ALLOW_RESIZE.isChecked());

]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="60"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
										</bi:component>
										<bi:component name="CHECKBOX_SHOW_COND_FORMAT" type="CHECKBOX_COMPONENT">
											<bi:property name="TEXT" value="Show Conditional Formats"/>
											<bi:property name="CHECKED" value="X"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[
CROSSTAB.setConditionalFormattingVisible(CHECKBOX_SHOW_COND_FORMAT.isChecked());
]]></bi:value>
											</bi:property>
											<bi:property name="TOP_MARGIN" value="85"/>
											<bi:property name="LEFT_MARGIN" value="16"/>
											<bi:property name="RIGHT_MARGIN" value="18"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="CSS_CLASS" value="cb-settings"/>
										</bi:component>
									</bi:component>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
					<bi:component name="PAGE_FORMAT" type="PAGE_COMPONENT">
						<bi:component name="PANEL_CONDEXC" type="PANEL_COMPONENT">
							<bi:property name="WIDTH" value="258"/>
							<bi:property name="HEIGHT" value="auto"/>
							<bi:property name="BOTTOM_MARGIN" value="0"/>
							<bi:property name="CSS_CLASS" value="border-style-top"/>
							<bi:component name="PANEL_CONDEX_TITLE" type="TEXT_COMPONENT">
								<bi:property name="TEXT" value="Formats &amp; Filters"/>
								<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
								<bi:property name="TOP_MARGIN" value="10"/>
								<bi:property name="LEFT_MARGIN" value="16"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="24"/>
								<bi:property name="RIGHT_MARGIN" value="16"/>
							</bi:component>
							<bi:component name="PANEL_CONDEX_BOTTOM" type="PANEL_COMPONENT">
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
								<bi:property name="TOP_MARGIN" value="auto"/>
								<bi:property name="CSS_CLASS" value="border-style-bottom"/>
								<bi:property name="HEIGHT" value="70"/>
								<bi:component name="PANEL_CONDEX__OK" type="BUTTON_COMPONENT">
									<bi:property name="TEXT" value="Apply Now"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="BOTTOM_MARGIN" value="8"/>
									<bi:property name="TOP_MARGIN" value="auto"/>
									<bi:property name="WIDTH" value="120"/>
									<bi:property name="HEIGHT" value="26"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
// pass back the dialog values into the application

// commit via check box code
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.setChecked(true);
PANEL_SETTINGS_DATA_GENERAL_CHECKBOX_APPLY.onClick();
]]></bi:value>
									</bi:property>
									<bi:property name="VISIBLE" value=""/>
								</bi:component>
								<bi:component name="PANEL_CONDEX__CHECKBOX_APPLY" type="CHECKBOX_COMPONENT">
									<bi:property name="TEXT" value="Apply Changes Immediately"/>
									<bi:property name="LEFT_MARGIN" value="16"/>
									<bi:property name="TOP_MARGIN" value="12"/>
									<bi:property name="WIDTH" value="226"/>
									<bi:property name="CHECKED" value="X"/>
									<bi:property name="ON_CLICK">
										<bi:value><![CDATA[
if(PANEL_CONDEX__CHECKBOX_APPLY.isChecked()) {
	CHECKBOX_SHOW_TITLE.onClick();
	
	CHECKBOX_ALLOW_SORTING.onClick();
	CHECKBOX_ALLOW_HIERARCHY.onClick();
	CHECKBOX_ALLOW_RESIZE.onClick();
	CHECKBOX_SHOW_COND_FORMAT.onClick();
	
	SCRIPT_STATE.assureFragmentSaved();
} else {
	
}
]]></bi:value>
									</bi:property>
									<bi:property name="VISIBLE" value=""/>
								</bi:component>
							</bi:component>
							<bi:component name="PANEL_CONDEX_CONTENT" type="PANEL_COMPONENT">
								<bi:property name="TOP_MARGIN" value="35"/>
								<bi:property name="BOTTOM_MARGIN" value="72"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="CSS_CLASS" value="border-style-top"/>
								<bi:component name="PANEL_CONDEXC_COND" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="259"/>
									<bi:property name="HEIGHT" value="140"/>
									<bi:component name="TEXT_CONDEXC_COND" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Measure Filters"/>
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="10"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="RIGHT_MARGIN" value="11"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									</bi:component>
									<bi:component name="PANEL_CONDEXC_COND_WHITE" type="PANEL_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="40"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="RIGHT_MARGIN" value="22"/>
										<bi:property name="HEIGHT" value="auto"/>
										<bi:property name="BOTTOM_MARGIN" value="0"/>
										<bi:component name="TEXT_CONDEXC_COND_LIST" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="List from Query"/>
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="9"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="RIGHT_MARGIN" value="17"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="DROPDOWN_CONDITIONS" type="DROPDOWN_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="40"/>
											<bi:property name="WIDTH" value="200"/>
										</bi:component>
										<bi:component name="BUTTON_COND_SWITCH" type="BUTTON_COMPONENT">
											<bi:property name="TEXT" value="Trigger State"/>
											<bi:property name="LEFT_MARGIN" value="auto"/>
											<bi:property name="TOP_MARGIN" value="70"/>
											<bi:property name="WIDTH" value="120"/>
											<bi:property name="HEIGHT" value="22"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[
var selectedItem = DROPDOWN_CONDITIONS.getSelectedValue();
DS_1.setMeasureFilterActive(selectedItem, !DS_1.isMeasureFilterActive(selectedItem));

SCRIPT_SETTINGS.prepareCondEx();
]]></bi:value>
											</bi:property>
											<bi:property name="RIGHT_MARGIN" value="14"/>
										</bi:component>
									</bi:component>
								</bi:component>
								<bi:component name="PANEL_CONDEXC_EXC" type="PANEL_COMPONENT">
									<bi:property name="WIDTH" value="259"/>
									<bi:property name="HEIGHT" value="140"/>
									<bi:property name="TOP_MARGIN" value="140"/>
									<bi:component name="TEXT_CONDEXC_EXC" type="TEXT_COMPONENT">
										<bi:property name="TEXT" value="Conditional Formats"/>
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="10"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="HEIGHT" value="19"/>
										<bi:property name="RIGHT_MARGIN" value="11"/>
										<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
									</bi:component>
									<bi:component name="PANEL_CONDEXC_EXC_WHITE" type="PANEL_COMPONENT">
										<bi:property name="LEFT_MARGIN" value="10"/>
										<bi:property name="TOP_MARGIN" value="40"/>
										<bi:property name="WIDTH" value="auto"/>
										<bi:property name="RIGHT_MARGIN" value="22"/>
										<bi:property name="HEIGHT" value="auto"/>
										<bi:property name="BOTTOM_MARGIN" value="0"/>
										<bi:component name="TEXT_CONDEXC_EXC_LIST" type="TEXT_COMPONENT">
											<bi:property name="TEXT" value="List from Query"/>
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="9"/>
											<bi:property name="WIDTH" value="auto"/>
											<bi:property name="HEIGHT" value="19"/>
											<bi:property name="RIGHT_MARGIN" value="17"/>
											<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
										</bi:component>
										<bi:component name="DROPDOWN_EXCEPTIONS" type="DROPDOWN_COMPONENT">
											<bi:property name="LEFT_MARGIN" value="12"/>
											<bi:property name="TOP_MARGIN" value="40"/>
											<bi:property name="WIDTH" value="200"/>
										</bi:component>
										<bi:component name="BUTTON_EXC_SWITCH" type="BUTTON_COMPONENT">
											<bi:property name="TEXT" value="Trigger State"/>
											<bi:property name="LEFT_MARGIN" value="auto"/>
											<bi:property name="TOP_MARGIN" value="70"/>
											<bi:property name="WIDTH" value="120"/>
											<bi:property name="HEIGHT" value="22"/>
											<bi:property name="ON_CLICK">
												<bi:value><![CDATA[
var selectedItem = DROPDOWN_EXCEPTIONS.getSelectedValue();

var newState = !DS_1.isConditionalFormatActive(selectedItem);
var exception = DS_1.setConditionalFormatActive(selectedItem, newState);

SCRIPT_SETTINGS.prepareCondEx();

if(newState) {
	CHECKBOX_SHOW_COND_FORMAT.setChecked(true);
	CHECKBOX_SHOW_COND_FORMAT.onClick();
}
]]></bi:value>
											</bi:property>
											<bi:property name="RIGHT_MARGIN" value="14"/>
										</bi:component>
									</bi:component>
								</bi:component>
							</bi:component>
						</bi:component>
					</bi:component>
				</bi:component>
				<bi:component name="RIGHT_DATA" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e080"/>
					<bi:property name="dStyle" value="Emph"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchRightArea(RIGHT_DATA);
]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="8"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Data Source Properties"/>
				</bi:component>
				<bi:component name="RIGHT_DIMENSION" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e167"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchRightArea(RIGHT_DIMENSION);
]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="58"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Dimension Properties"/>
				</bi:component>
				<bi:component name="RIGHT_MEASURE" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e151"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_LOGIC.switchRightArea(RIGHT_MEASURE);
]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="108"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Measure Properties"/>
				</bi:component>
				<bi:component name="RIGHT_FRAGMENT" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e140"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_LOGIC.switchRightArea(RIGHT_FRAGMENT);]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="158"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Fragment Properties"/>
				</bi:component>
				<bi:component name="RIGHT_FORMAT" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="dIcon" value="e029"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_LOGIC.switchRightArea(RIGHT_FORMAT);]]></bi:value>
					</bi:property>
					<bi:property name="dSize" value="M"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="208"/>
					<bi:property name="CSS_CLASS" value="no-border"/>
					<bi:property name="dTooltip" value="Formats &amp; Filters"/>
				</bi:component>
			</bi:component>
			<bi:component name="DEFINE_GELLERY" type="PANEL_COMPONENT">
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="101"/>
				<bi:property name="CSS_CLASS" value="border-style-top2"/>
				<bi:component name="DEFINE_GALLERY" type="com_sap_ip_bi_FragmentGallery">
					<bi:property name="LEFT_MARGIN" value="55"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="RIGHT_MARGIN" value="55"/>
					<bi:property name="BOTTOM_MARGIN" value="6"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="onSelectionChange">
						<bi:value><![CDATA[
SCRIPT_LOGIC.loadVisualization(DEFINE_GALLERY.getSelectedId());
]]></bi:value>
					</bi:property>
					<bi:property name="itemSize" value="160"/>
				</bi:component>
				<bi:component name="ADD_VISUALIZATION_BUTTON" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="48"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="2"/>
					<bi:property name="dIcon" value="e058"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_STATE.fragmentAdd();]]></bi:value>
					</bi:property>
					<bi:property name="dTooltip" value="Add New Fragment"/>
				</bi:component>
				<bi:component name="SAVE_VISUALIZATION_BUTTON" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="48"/>
					<bi:property name="TOP_MARGIN" value="auto"/>
					<bi:property name="LEFT_MARGIN" value="2"/>
					<bi:property name="dIcon" value="e09a"/>
					<bi:property name="BOTTOM_MARGIN" value="6"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_STATE.fragmentSave();]]></bi:value>
					</bi:property>
					<bi:property name="dTooltip" value="Save Current Fragment"/>
					<bi:property name="VISIBLE" value=""/>
				</bi:component>
				<bi:component name="DEFINE_GALERY_DELETE" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="40"/>
					<bi:property name="WIDTH" value="48"/>
					<bi:property name="TOP_MARGIN" value="4"/>
					<bi:property name="LEFT_MARGIN" value="auto"/>
					<bi:property name="dIcon" value="e03d"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_STATE.fragmentDelete();]]></bi:value>
					</bi:property>
					<bi:property name="RIGHT_MARGIN" value="2"/>
					<bi:property name="dTooltip" value="Delete Current Fragment"/>
				</bi:component>
				<bi:component name="TEXT_COUNTER" type="TEXT_COMPONENT">
					<bi:property name="LEFT_MARGIN" value="auto"/>
					<bi:property name="TOP_MARGIN" value="auto"/>
					<bi:property name="WIDTH" value="50"/>
					<bi:property name="RIGHT_MARGIN" value="4"/>
					<bi:property name="TEXT" value="11 of 99"/>
					<bi:property name="HEIGHT" value="16"/>
					<bi:property name="BOTTOM_MARGIN" value="6"/>
					<bi:property name="CSS_CLASS" value="content-right"/>
				</bi:component>
				<bi:component name="DEFINE_GALERY_DELETE_ALL" type="org_scn_community_basics_FioriButton">
					<bi:property name="HEIGHT" value="30"/>
					<bi:property name="WIDTH" value="30"/>
					<bi:property name="TOP_MARGIN" value="auto"/>
					<bi:property name="LEFT_MARGIN" value="auto"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[SCRIPT_STATE.fragmentDeleteAll();]]></bi:value>
					</bi:property>
					<bi:property name="RIGHT_MARGIN" value="2"/>
					<bi:property name="BOTTOM_MARGIN" value="24"/>
					<bi:property name="dSize" value="M"/>
					<bi:property name="dTooltip" value="Delete All Fragments for this Data Source"/>
					<bi:property name="VISIBLE" value=""/>
				</bi:component>
			</bi:component>
		</bi:component>
		<bi:component name="COMPOSE_MAIN_PANEL" type="PANEL_COMPONENT">
			<bi:property name="TOP_MARGIN" value="81"/>
			<bi:property name="BOTTOM_MARGIN" value="40"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:property name="HEIGHT" value="auto"/>
			<bi:property name="CSS_CLASS" value="border-style-bottom2"/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:component name="HEADER_COMPOSE_RIGHT_MENU" type="org_scn_community_basics_ActionSheetButton">
				<bi:property name="TOP_MARGIN" value="-47"/>
				<bi:property name="placement" value="Bottom"/>
				<bi:property name="items" value="[{&quot;key&quot;:&quot;SAVE_COMPOSITION&quot;,&quot;text&quot;:&quot;Save Composition...&quot;,&quot;icon&quot;:&quot;sap-icon://save&quot;}]"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="onPopoverSelect">
					<bi:value><![CDATA[if(HEADER_COMPOSE_RIGHT_MENU.getSelectedKey() == "SAVE_COMPOSITION") {
	SCRIPT_DIALOG.callSaveCompositionDialog();
}]]></bi:value>
				</bi:property>
				<bi:property name="RIGHT_MARGIN" value="6"/>
				<bi:property name="icon" value="sap-icon://save"/>
			</bi:component>
			<bi:component name="COMPOSE_PANEL_GALLERY" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="240"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="CSS_CLASS" value="border-style-right"/>
				<bi:component name="COMPOSE_GALLERY" type="com_sap_ip_bi_FragmentGallery">
					<bi:property name="LEFT_MARGIN" value="2"/>
					<bi:property name="TOP_MARGIN" value="2"/>
					<bi:property name="galleryOrientation" value="vertical"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="2"/>
					<bi:property name="RIGHT_MARGIN" value="2"/>
				</bi:component>
			</bi:component>
			<bi:component name="PANEL_PAGES" type="PANEL_COMPONENT">
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="HEIGHT" value="29"/>
				<bi:property name="CSS_CLASS" value="lumira-toolbar border-style-top"/>
				<bi:property name="LEFT_MARGIN" value="240"/>
			</bi:component>
			<bi:component name="COMPOSE_PANEL_LAYOUT" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="30"/>
				<bi:property name="LEFT_MARGIN" value="240"/>
				<bi:component name="COMPOSE_PANEL_CONTENT" type="PANEL_COMPONENT">
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="RIGHT_MARGIN" value="0"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:property name="CSS_CLASS" value="border-style-bottom"/>
					<bi:component name="PANEL_COMPOSITION_TITLE" type="PANEL_COMPONENT">
						<bi:property name="TOP_MARGIN" value="-81"/>
						<bi:property name="HEIGHT" value="80"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="0"/>
						<bi:property name="VISIBLE" value=""/>
						<bi:property name="CSS_CLASS" value="border-style-bottom"/>
						<bi:component name="COMPOSITION_HEADER" type="org_scn_community_basics_ApplicationHeader">
							<bi:property name="HEIGHT" value="49"/>
							<bi:property name="logoSrc" value="scn_go.png"/>
						</bi:component>
						<bi:component name="COMPOSITION_HEADER_TITLE" type="TEXT_COMPONENT">
							<bi:property name="TEXT" value="Sample text"/>
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="HEIGHT" value="24"/>
							<bi:property name="TOP_MARGIN" value="37"/>
							<bi:property name="CSS_CLASS" value="dialog-title left-align"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
						</bi:component>
						<bi:component name="COMPOSITION_HEADER_DESCTIPTION" type="TEXT_COMPONENT">
							<bi:property name="TEXT" value="Sample text"/>
							<bi:property name="WIDTH" value="auto"/>
							<bi:property name="HEIGHT" value="18"/>
							<bi:property name="TOP_MARGIN" value="60"/>
							<bi:property name="CSS_CLASS" value="left-align"/>
							<bi:property name="RIGHT_MARGIN" value="0"/>
						</bi:component>
					</bi:component>
					<bi:component name="COMPOSE_PAGEBOOK_CONTENT" type="PAGEBOOK_COMPONENT">
						<bi:property name="BOTTOM_MARGIN" value="0"/>
						<bi:property name="HEIGHT" value="auto"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="0"/>
						<bi:property name="ENABLE_SWIPING" value=""/>
						<bi:component name="COMPOSE_PAGEBOOK_CONTENT_PAGE_1" type="PAGE_COMPONENT">
							<bi:component name="COMPOSE_PAGEBOOK_CONTENT_SCC_1" type="SPLITCELLCONTAINER_COMPONENT">
								<bi:property name="GRID_ORIENTATION" value="V"/>
								<bi:property name="COLUMN_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="COLUMN_WIDTH" index="0" value="1"/>
								</bi:property>
								<bi:property name="ROW_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="ROW_HEIGHT" index="0" value="1"/>
								</bi:property>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="RIGHT_MARGIN" value="0"/>
								<bi:property name="HEIGHT" value="auto"/>
								<bi:property name="BOTTOM_MARGIN" value="0"/>
							</bi:component>
						</bi:component>
						<bi:component name="COMPOSE_PAGEBOOK_CONTENT_PAGE_2" type="PAGE_COMPONENT">
							<bi:component name="COMPOSE_PAGEBOOK_CONTENT_SCC_2" type="SPLITCELLCONTAINER_COMPONENT">
								<bi:property name="GRID_ORIENTATION" value="V"/>
								<bi:property name="COLUMN_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="COLUMN_WIDTH" index="0" value="1"/>
								</bi:property>
								<bi:property name="ROW_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="ROW_HEIGHT" index="0" value="1"/>
								</bi:property>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
							</bi:component>
						</bi:component>
						<bi:component name="COMPOSE_PAGEBOOK_CONTENT_PAGE_3" type="PAGE_COMPONENT">
							<bi:component name="COMPOSE_PAGEBOOK_CONTENT_SCC_3" type="SPLITCELLCONTAINER_COMPONENT">
								<bi:property name="GRID_ORIENTATION" value="V"/>
								<bi:property name="COLUMN_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="COLUMN_WIDTH" index="0" value="1"/>
								</bi:property>
								<bi:property name="ROW_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="ROW_HEIGHT" index="0" value="1"/>
								</bi:property>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
							</bi:component>
						</bi:component>
						<bi:component name="COMPOSE_PAGEBOOK_CONTENT_PAGE_4" type="PAGE_COMPONENT">
							<bi:component name="COMPOSE_PAGEBOOK_CONTENT_SCC_4" type="SPLITCELLCONTAINER_COMPONENT">
								<bi:property name="GRID_ORIENTATION" value="V"/>
								<bi:property name="COLUMN_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="COLUMN_WIDTH" index="0" value="1"/>
								</bi:property>
								<bi:property name="ROW_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="ROW_HEIGHT" index="0" value="1"/>
								</bi:property>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
							</bi:component>
						</bi:component>
						<bi:component name="COMPOSE_PAGEBOOK_CONTENT_PAGE_5" type="PAGE_COMPONENT">
							<bi:component name="COMPOSE_PAGEBOOK_CONTENT_SCC_5" type="SPLITCELLCONTAINER_COMPONENT">
								<bi:property name="GRID_ORIENTATION" value="V"/>
								<bi:property name="COLUMN_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="COLUMN_WIDTH" index="0" value="1"/>
								</bi:property>
								<bi:property name="ROW_SETTINGS_LIST" type="ORDEREDLIST" value="">
									<bi:property name="ROW_HEIGHT" index="0" value="1"/>
								</bi:property>
								<bi:property name="WIDTH" value="auto"/>
								<bi:property name="HEIGHT" value="auto"/>
							</bi:component>
						</bi:component>
					</bi:component>
				</bi:component>
			</bi:component>
		</bi:component>
		<bi:component name="SHARE_MAIN_PANEL" type="PANEL_COMPONENT">
			<bi:property name="TOP_MARGIN" value="81"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:property name="HEIGHT" value="auto"/>
			<bi:property name="BOTTOM_MARGIN" value="40"/>
			<bi:property name="CSS_CLASS" value="border-style-bottom2"/>
			<bi:component name="HEADER_SHARE_RIGHT_MENU" type="org_scn_community_basics_ActionSheetButton">
				<bi:property name="TOP_MARGIN" value="-47"/>
				<bi:property name="placement" value="Bottom"/>
				<bi:property name="items" value="[{&quot;key&quot;:&quot;SHARE_COMPOSITION&quot;,&quot;text&quot;:&quot;Share Composition...&quot;,&quot;icon&quot;:&quot;sap-icon://share-2&quot;}]"/>
				<bi:property name="HEIGHT" value="40"/>
				<bi:property name="onPopoverSelect">
					<bi:value><![CDATA[if(HEADER_SHARE_RIGHT_MENU.getSelectedKey() == "SHARE_COMPOSITION") {
	SCRIPT_DIALOG.callShareComposition();
}]]></bi:value>
				</bi:property>
				<bi:property name="RIGHT_MARGIN" value="6"/>
				<bi:property name="icon" value="sap-icon://share-2"/>
			</bi:component>
			<bi:component name="TEXT_SHARE_SELECTION" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Select a composition for Sharing"/>
				<bi:property name="CSS_CLASS" value="dialog-title border-style-bottom"/>
				<bi:property name="TOP_MARGIN" value="25"/>
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="WIDTH" value="600"/>
				<bi:property name="HEIGHT" value="24"/>
			</bi:component>
			<bi:component name="TEXT_COMPOSITION_SELECTED" type="TEXT_COMPONENT">
				<bi:property name="WIDTH" value="10"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="VISIBLE" value=""/>
			</bi:component>
			<bi:component name="SHARE_RADIOS" type="RADIOBUTTONGROUP_COMPONENT">
				<bi:property name="ITEMS" type="ORDEREDLIST">
					<bi:property name="SELECTION_ITEM" index="0">
						<bi:property name="SELECTED" value="X"/>
						<bi:property name="VALUE" value="Value1"/>
					</bi:property>
					<bi:property name="SELECTION_ITEM" index="1">
						<bi:property name="VALUE" value="Value2"/>
					</bi:property>
				</bi:property>
				<bi:property name="LEFT_MARGIN" value="37"/>
				<bi:property name="TOP_MARGIN" value="60"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="WIDTH" value="577"/>
				<bi:property name="ON_SELECT">
					<bi:value><![CDATA[
SCRIPT_LOGIC.updateSelectedComposition(SHARE_RADIOS.getSelectedValue());
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="TEXT_SHARE_SELECTED_COMPOSITION" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Selected Composition"/>
				<bi:property name="CSS_CLASS" value="dialog-title border-style-bottom"/>
				<bi:property name="TOP_MARGIN" value="25"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="300"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
			</bi:component>
			<bi:component name="SHARE_QRCODE" type="org_scn_community_basics_QRCode">
				<bi:property name="TOP_MARGIN" value="71"/>
				<bi:property name="VISIBLE" value=""/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
			</bi:component>
			<bi:component name="SHARE_LINK" type="org_scn_community_basics_Link">
				<bi:property name="text" value="Open Composition..."/>
				<bi:property name="onPress">
					<bi:value><![CDATA[
APPLICATION.openNewWindow(SHARE_QRCODE.getText());
]]></bi:value>
				</bi:property>
				<bi:property name="RIGHT_MARGIN" value="16"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="256"/>
				<bi:property name="TOP_MARGIN" value="340"/>
			</bi:component>
		</bi:component>
		<bi:component name="BOTTOM_MAIN_PANEL" type="PANEL_COMPONENT">
			<bi:property name="BOTTOM_MARGIN" value="0"/>
			<bi:property name="TOP_MARGIN" value="auto"/>
			<bi:property name="HEIGHT" value="40"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:component name="TEXT_BOTTOM_DATA_SOURCE" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Sample text"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="TOP_MARGIN" value="11"/>
				<bi:property name="LEFT_MARGIN" value="57"/>
				<bi:property name="CSS_CLASS" value="dialog-title"/>
				<bi:property name="RIGHT_MARGIN" value="5"/>
			</bi:component>
			<bi:component name="IMAGE_BOTTOM" type="org_scn_community_basics_FioriButton">
				<bi:property name="LEFT_MARGIN" value="24"/>
				<bi:property name="TOP_MARGIN" value="3"/>
				<bi:property name="dSize" value="M"/>
				<bi:property name="WIDTH" value="32"/>
				<bi:property name="HEIGHT" value="32"/>
				<bi:property name="dIcon" value="e080"/>
				<bi:property name="dTooltip" value="sas"/>
				<bi:property name="dBackColor" value="#FFFFFF"/>
				<bi:property name="CSS_CLASS" value="no-border"/>
			</bi:component>
			<bi:component name="POWERED_BY" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Powered by SCN Community and SAP Design Studio"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="6"/>
				<bi:property name="BOTTOM_MARGIN" value="6"/>
				<bi:property name="WIDTH" value="280"/>
				<bi:property name="HEIGHT" value="20"/>
				<bi:property name="CSS_STYLE" value="font-size: 10px;&#13;&#10;text-align: right;&#13;&#10;line-height: 30px;"/>
			</bi:component>
		</bi:component>
		<bi:component name="DIALOG_BACKGROUND" type="PANEL_COMPONENT">
			<bi:property name="RIGHT_MARGIN" value="0"/>
			<bi:property name="BOTTOM_MARGIN" value="0"/>
			<bi:property name="WIDTH" value="auto"/>
			<bi:property name="HEIGHT" value="auto"/>
			<bi:property name="CSS_CLASS" value="dialog-shadow"/>
			<bi:property name="VISIBLE" value=""/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
		</bi:component>
		<bi:component name="DIALOG_OPEN" type="PANEL_COMPONENT">
			<bi:property name="LEFT_MARGIN" value="266"/>
			<bi:property name="TOP_MARGIN" value="225"/>
			<bi:property name="WIDTH" value="800"/>
			<bi:property name="HEIGHT" value="600"/>
			<bi:property name="CSS_CLASS" value="dialog-frame-800x600 dialog-design"/>
			<bi:property name="VISIBLE" value=""/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:component name="DIALOG_OPEN_TOP" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="HEIGHT" value="84"/>
				<bi:property name="CSS_CLASS" value="dialog-top"/>
			</bi:component>
			<bi:component name="DIALOG_OPEN_BOTTOM" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="CSS_CLASS" value="dialog-bottom"/>
				<bi:property name="HEIGHT" value="42"/>
			</bi:component>
			<bi:component name="DIALOG_OPEN_TITLE" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Search for Data Source"/>
				<bi:property name="CSS_CLASS" value="dialog-title"/>
				<bi:property name="TOP_MARGIN" value="20"/>
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="RIGHT_MARGIN" value="64"/>
			</bi:component>
			<bi:component name="DIALOG_OPEN_DESC" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Use the input filed for searching pattern. The search is returning results which are sorted by type and alpabetically."/>
				<bi:property name="CSS_CLASS" value="dialog-description"/>
				<bi:property name="TOP_MARGIN" value="45"/>
				<bi:property name="LEFT_MARGIN" value="32"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="34"/>
				<bi:property name="RIGHT_MARGIN" value="8"/>
			</bi:component>
			<bi:component name="DIALOG_OPEN_CONTENT" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="43"/>
				<bi:property name="TOP_MARGIN" value="85"/>
				<bi:component name="DIALOG_OPEN_CONTENT_DYNAMIC" type="PANEL_COMPONENT">
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="RIGHT_MARGIN" value="0"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:property name="CSS_CLASS" value="dynamic-content"/>
					<bi:component name="DIALOG_OPEN_SEARCH_INPUT" type="org_scn_community_basics_ValiInput">
						<bi:property name="LEFT_MARGIN" value="32"/>
						<bi:property name="TOP_MARGIN" value="43"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="76"/>
						<bi:property name="DLength" value="3"/>
						<bi:property name="DValidation" value="min_length"/>
						<bi:property name="onChanged">
							<bi:value><![CDATA[
SCRIPT_DIALOG.searchDataSource();
]]></bi:value>
						</bi:property>
					</bi:component>
					<bi:component name="DIALOG_OPEN_SEARCH_TREE" type="org_scn_community_basics_Tree">
						<bi:property name="LEFT_MARGIN" value="32"/>
						<bi:property name="TOP_MARGIN" value="77"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="HEIGHT" value="347"/>
						<bi:property name="RIGHT_MARGIN" value="32"/>
						<bi:property name="onSelectionChanged">
							<bi:value><![CDATA[
SCRIPT_LOGIC.treeSelection(DIALOG_OPEN_SEARCH_TREE, DIALOG_OPEN_SEARCH_TREE.getSelectedKey());
]]></bi:value>
						</bi:property>
					</bi:component>
					<bi:component name="DIALOG_OPEN_SELECTED_INPUT_NAME" type="org_scn_community_basics_ValiInput">
						<bi:property name="LEFT_MARGIN" value="132"/>
						<bi:property name="TOP_MARGIN" value="auto"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="151"/>
						<bi:property name="BOTTOM_MARGIN" value="16"/>
					</bi:component>
					<bi:component name="DIALOG_OPEN_SELECTED_DROP_TYPE" type="DROPDOWN_COMPONENT">
						<bi:property name="WIDTH" value="110"/>
						<bi:property name="TOP_MARGIN" value="auto"/>
						<bi:property name="BOTTOM_MARGIN" value="16"/>
						<bi:property name="LEFT_MARGIN" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="31"/>
					</bi:component>
				</bi:component>
				<bi:component name="DIALOG_OPEN_SEARCH_TEXT" type="TEXT_COMPONENT">
					<bi:property name="TEXT" value="Pattern for Backend Search:"/>
					<bi:property name="LEFT_MARGIN" value="16"/>
					<bi:property name="TOP_MARGIN" value="12"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
					<bi:property name="HEIGHT" value="19"/>
					<bi:property name="RIGHT_MARGIN" value="30"/>
				</bi:component>
				<bi:component name="DIALOG_OPEN_SELECTED_TEXT" type="TEXT_COMPONENT">
					<bi:property name="TEXT" value="Selected:"/>
					<bi:property name="LEFT_MARGIN" value="32"/>
					<bi:property name="TOP_MARGIN" value="auto"/>
					<bi:property name="WIDTH" value="100"/>
					<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
					<bi:property name="HEIGHT" value="20"/>
					<bi:property name="BOTTOM_MARGIN" value="16"/>
				</bi:component>
				<bi:component name="DIALOG_OPEN_SEARCH_BUTTON" type="org_scn_community_basics_FioriButton">
					<bi:property name="LEFT_MARGIN" value="auto"/>
					<bi:property name="TOP_MARGIN" value="43"/>
					<bi:property name="RIGHT_MARGIN" value="30"/>
					<bi:property name="dIcon" value="e00d"/>
					<bi:property name="dSize" value="M"/>
					<bi:property name="WIDTH" value="32"/>
					<bi:property name="HEIGHT" value="32"/>
					<bi:property name="onClick">
						<bi:value><![CDATA[
SCRIPT_DIALOG.searchDataSource();
]]></bi:value>
					</bi:property>
				</bi:component>
			</bi:component>
			<bi:component name="DIALOG_OPEN_CLOSE" type="org_scn_community_basics_FioriButton">
				<bi:property name="dSize" value="M"/>
				<bi:property name="WIDTH" value="32"/>
				<bi:property name="HEIGHT" value="32"/>
				<bi:property name="RIGHT_MARGIN" value="12"/>
				<bi:property name="TOP_MARGIN" value="12"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
DIALOG_OPEN_CANCEL.onClick();
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="DIALOG_OPEN_OK" type="BUTTON_COMPONENT">
				<bi:property name="TEXT" value="OK"/>
				<bi:property name="RIGHT_MARGIN" value="132"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="8"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="100"/>
				<bi:property name="HEIGHT" value="26"/>
				<bi:property name="CSS_CLASS" value="lumira-button-sel"/>
				<bi:property name="ON_CLICK">
					<bi:value><![CDATA[
// call the cancel button to hide
DIALOG_OPEN_CANCEL.onClick();

// pass back the dialog values into the application

// commit via check box code
var type = DIALOG_OPEN_SELECTED_DROP_TYPE.getSelectedValue();
var name = DIALOG_OPEN_SELECTED_INPUT_NAME.getValue();

SCRIPT_STATE.openDialogSave();
SCRIPT_DIALOG.openDataSource(type, name);
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="DIALOG_OPEN_CANCEL" type="BUTTON_COMPONENT">
				<bi:property name="TEXT" value="Cancel"/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="8"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="100"/>
				<bi:property name="HEIGHT" value="26"/>
				<bi:property name="CSS_CLASS" value="lumira-button-non"/>
				<bi:property name="ON_CLICK">
					<bi:value><![CDATA[
// hide background & dialog
DIALOG_OPEN.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
				</bi:property>
			</bi:component>
		</bi:component>
		<bi:component name="DIALOG_SAVE_COMPOSITION" type="PANEL_COMPONENT">
			<bi:property name="LEFT_MARGIN" value="266"/>
			<bi:property name="TOP_MARGIN" value="225"/>
			<bi:property name="WIDTH" value="800"/>
			<bi:property name="HEIGHT" value="600"/>
			<bi:property name="CSS_CLASS" value="dialog-frame-800x600 dialog-design"/>
			<bi:property name="VISIBLE" value=""/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:component name="DIALOG_SAVE_COMPOSITION_TOP" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="HEIGHT" value="84"/>
				<bi:property name="CSS_CLASS" value="dialog-top"/>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_BOTTOM" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="CSS_CLASS" value="dialog-bottom"/>
				<bi:property name="HEIGHT" value="42"/>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_TITLE" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Save Composition"/>
				<bi:property name="CSS_CLASS" value="dialog-title"/>
				<bi:property name="TOP_MARGIN" value="20"/>
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="RIGHT_MARGIN" value="64"/>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_DESC" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Place short name and description..."/>
				<bi:property name="CSS_CLASS" value="dialog-description"/>
				<bi:property name="TOP_MARGIN" value="45"/>
				<bi:property name="LEFT_MARGIN" value="32"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="34"/>
				<bi:property name="RIGHT_MARGIN" value="8"/>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_CONTENT" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="43"/>
				<bi:property name="TOP_MARGIN" value="85"/>
				<bi:component name="DIALOG_SAVE_COMPOSITION_CONTENT_DYNAMIC" type="PANEL_COMPONENT">
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="RIGHT_MARGIN" value="0"/>
					<bi:property name="HEIGHT" value="auto"/>
					<bi:property name="BOTTOM_MARGIN" value="0"/>
					<bi:property name="CSS_CLASS" value="dynamic-content"/>
					<bi:component name="DIALOG_SAVE_COMPOSITION_NAME_INPUT" type="org_scn_community_basics_ValiInput">
						<bi:property name="LEFT_MARGIN" value="32"/>
						<bi:property name="TOP_MARGIN" value="46"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="76"/>
						<bi:property name="DLength" value="3"/>
						<bi:property name="DValidation" value="min_length"/>
					</bi:component>
					<bi:component name="DIALOG_SAVE_COMPOSITION_DESCRIPTION" type="org_scn_community_basics_ValiInput">
						<bi:property name="LEFT_MARGIN" value="32"/>
						<bi:property name="TOP_MARGIN" value="106"/>
						<bi:property name="WIDTH" value="auto"/>
						<bi:property name="RIGHT_MARGIN" value="76"/>
					</bi:component>
				</bi:component>
				<bi:component name="DIALOG_SAVE_COMPOSITION_NAME_TEXT" type="TEXT_COMPONENT">
					<bi:property name="TEXT" value="Short Name:"/>
					<bi:property name="LEFT_MARGIN" value="16"/>
					<bi:property name="TOP_MARGIN" value="12"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
					<bi:property name="HEIGHT" value="19"/>
					<bi:property name="RIGHT_MARGIN" value="30"/>
				</bi:component>
				<bi:component name="DIALOG_SAVE_COMPOSITION_DESCRIPTION_TEXT" type="TEXT_COMPONENT">
					<bi:property name="TEXT" value="Description:"/>
					<bi:property name="LEFT_MARGIN" value="16"/>
					<bi:property name="TOP_MARGIN" value="76"/>
					<bi:property name="WIDTH" value="auto"/>
					<bi:property name="CSS_CLASS" value="label-settings-2 border-style-bottom"/>
					<bi:property name="HEIGHT" value="19"/>
					<bi:property name="RIGHT_MARGIN" value="30"/>
				</bi:component>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_CLOSE" type="org_scn_community_basics_FioriButton">
				<bi:property name="dSize" value="M"/>
				<bi:property name="WIDTH" value="32"/>
				<bi:property name="HEIGHT" value="32"/>
				<bi:property name="RIGHT_MARGIN" value="12"/>
				<bi:property name="TOP_MARGIN" value="12"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
DIALOG_SAVE_COMPOSITION_CANCEL.onClick();
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_OK" type="BUTTON_COMPONENT">
				<bi:property name="TEXT" value="OK"/>
				<bi:property name="RIGHT_MARGIN" value="132"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="8"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="100"/>
				<bi:property name="HEIGHT" value="26"/>
				<bi:property name="CSS_CLASS" value="lumira-button-sel"/>
				<bi:property name="ON_CLICK">
					<bi:value><![CDATA[// call the cancel button to hide
DIALOG_SAVE_COMPOSITION_CANCEL.onClick();

// pass back the dialog values into the application

// commit via check box code
var name = DIALOG_SAVE_COMPOSITION_NAME_INPUT.getValue();
var desc = DIALOG_SAVE_COMPOSITION_DESCRIPTION.getValue();

SCRIPT_STATE.compositionSave(name, desc);]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="DIALOG_SAVE_COMPOSITION_CANCEL" type="BUTTON_COMPONENT">
				<bi:property name="TEXT" value="Cancel"/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="8"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="100"/>
				<bi:property name="HEIGHT" value="26"/>
				<bi:property name="CSS_CLASS" value="lumira-button-non"/>
				<bi:property name="ON_CLICK">
					<bi:value><![CDATA[
// hide background & dialog
DIALOG_SAVE_COMPOSITION.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
				</bi:property>
			</bi:component>
		</bi:component>
		<bi:component name="PANEL_MULTILEVEL_FILTER" type="PANEL_COMPONENT">
			<bi:property name="LEFT_MARGIN" value="10"/>
			<bi:property name="WIDTH" value="800"/>
			<bi:property name="HEIGHT" value="600"/>
			<bi:property name="VISIBLE" value=""/>
			<bi:property name="CSS_CLASS" value="dialog-frame-950x750 dialog-design"/>
			<bi:property name="TOP_MARGIN" value="10"/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:component name="MULTILEVELDROPDOWN" type="org_scn_community_databound_MultiLevelDropDown">
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="TOP_MARGIN" value="130"/>
				<bi:property name="DATA_SOURCE_ALIAS_REF" value="DS_1"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
				<bi:property name="HEIGHT" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="16"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
DS_1.setFilter(MULTILEVELDROPDOWN.getSourceCharacteristic(), MULTILEVELDROPDOWN.getClickedElemKey());
PANEL_MULTILEVEL_FILTER.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
				</bi:property>
				<bi:property name="onReset">
					<bi:value><![CDATA[
DS_1.clearFilter(MULTILEVELDROPDOWN.getSourceCharacteristic());
PANEL_MULTILEVEL_FILTER.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
				</bi:property>
				<bi:property name="resetButton" value="Right"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_TOP" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="HEIGHT" value="84"/>
				<bi:property name="CSS_CLASS" value="dialog-top"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_BOTTOM" type="PANEL_COMPONENT">
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="RIGHT_MARGIN" value="0"/>
				<bi:property name="BOTTOM_MARGIN" value="0"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="CSS_CLASS" value="dialog-bottom"/>
				<bi:property name="HEIGHT" value="42"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_NAME" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Hierarchical Filter"/>
				<bi:property name="CSS_CLASS" value="dialog-title"/>
				<bi:property name="TOP_MARGIN" value="20"/>
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="24"/>
				<bi:property name="RIGHT_MARGIN" value="64"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_DESC" type="TEXT_COMPONENT">
				<bi:property name="TEXT" value="Expand Hierarchy and filter based on on hierarchy levels"/>
				<bi:property name="CSS_CLASS" value="dialog-description"/>
				<bi:property name="TOP_MARGIN" value="45"/>
				<bi:property name="LEFT_MARGIN" value="32"/>
				<bi:property name="WIDTH" value="auto"/>
				<bi:property name="HEIGHT" value="34"/>
				<bi:property name="RIGHT_MARGIN" value="8"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_EXPAND" type="org_scn_community_basics_FioriButton">
				<bi:property name="dSize" value="M"/>
				<bi:property name="WIDTH" value="160"/>
				<bi:property name="HEIGHT" value="32"/>
				<bi:property name="TOP_MARGIN" value="92"/>
				<bi:property name="LEFT_MARGIN" value="16"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
DS_1.setDrillLevel(MULTILEVELDROPDOWN.getDimension(), 3);

PANEL_MULTILEVEL_FILTER_CANCEL.onClick();
]]></bi:value>
				</bi:property>
				<bi:property name="dIcon" value="e1f9"/>
				<bi:property name="dTooltip" value="Expand to 3rd Level"/>
				<bi:property name="dText" value="Expand to 3rd Level"/>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_CLOSE" type="org_scn_community_basics_FioriButton">
				<bi:property name="dSize" value="M"/>
				<bi:property name="WIDTH" value="32"/>
				<bi:property name="HEIGHT" value="32"/>
				<bi:property name="RIGHT_MARGIN" value="12"/>
				<bi:property name="TOP_MARGIN" value="12"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="onClick">
					<bi:value><![CDATA[
PANEL_MULTILEVEL_FILTER_CANCEL.onClick();
]]></bi:value>
				</bi:property>
			</bi:component>
			<bi:component name="PANEL_MULTILEVEL_FILTER_CANCEL" type="BUTTON_COMPONENT">
				<bi:property name="TEXT" value="Cancel"/>
				<bi:property name="RIGHT_MARGIN" value="16"/>
				<bi:property name="LEFT_MARGIN" value="auto"/>
				<bi:property name="BOTTOM_MARGIN" value="8"/>
				<bi:property name="TOP_MARGIN" value="auto"/>
				<bi:property name="WIDTH" value="100"/>
				<bi:property name="HEIGHT" value="26"/>
				<bi:property name="CSS_CLASS" value="lumira-button-non"/>
				<bi:property name="ON_CLICK">
					<bi:value><![CDATA[
// hide background & dialog
PANEL_MULTILEVEL_FILTER.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
				</bi:property>
			</bi:component>
		</bi:component>
		<bi:component name="PANEL_DIALOG_WORK" type="PANEL_COMPONENT">
			<bi:property name="WIDTH" value="800"/>
			<bi:property name="HEIGHT" value="600"/>
			<bi:property name="VISIBLE" value=""/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
		</bi:component>
		<bi:component name="NOTIFICATIONBAR" type="org_scn_community_basics_NotificationBar">
			<bi:property name="connectToCommonMessages" value="X"/>
			<bi:property name="DESIGNER_VISIBLE" value=""/>
		</bi:component>
		<bi:component name="TECHNICAL_COMPONENTS" type="PANEL_COMPONENT">
			<bi:property name="DESIGNER_VISIBLE" value=""/>
			<bi:property name="VISIBLE" value=""/>
			<bi:component name="COLLECTION_VISUALIZATIONS" type="org_scn_community_utils_Collection">
				<bi:property name="DESIGNER_VISIBLE" value=""/>
			</bi:component>
		</bi:component>
		<bi:component name="CONTEXT_MENU" type="CONTEXT_MENU_COMPONENT"/>
		<bi:component name="SCRIPT_SETTINGS" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="preparePropertiesMeasures"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// first set the values you want to edit in the dialog...

// read all dimensions
var dimenstions = DS_1.getDimensions();
var measureDimensionId = DS_1.getMeasuresDimension();

//  read first 100 members (should be ok for majority of queries)
var measureDimensionMembers = DS_1.getMembers(measureDimensionId, 100);

// initialize the dropdowns, can be one once, but the code here is not performance critical
PANEL_MEASURE_DROPDOWN_MEASURES.removeAllItems();

// add initial entry, required to trigger "selected" event, could be changed to auto-select the first measure
PANEL_MEASURE_DROPDOWN_MEASURES.addItem("-N/A-", " - select measure -");

// add all measures
measureDimensionMembers.forEach(function(member, index) {
  PANEL_MEASURE_DROPDOWN_MEASURES.addItem(member.internalKey, member.text);
});

// fill in the values which are coming from the query, those are not dependent on selected measure
var zeroDisplayValue = DS_1.getZeroDisplay();
	
var enabledCustom = false;
if(zeroDisplayValue == ZeroDisplay.DEFAULT) {
	PANEL_MEASURE_DROPDOWN_ZERO.setSelectedValue("DEFAULT");
}
if(zeroDisplayValue == ZeroDisplay.CUSTOM) {
	PANEL_MEASURE_DROPDOWN_ZERO.setSelectedValue("CUSTOM");	
	
	enabledCustom = true;	
}
if(zeroDisplayValue == ZeroDisplay.EMPTY_CELL) {
	PANEL_MEASURE_DROPDOWN_ZERO.setSelectedValue("EMPTY_CELL");
}
if(zeroDisplayValue == ZeroDisplay.WITHOUT_CURRENCY_UNIT) {
	PANEL_MEASURE_DROPDOWN_ZERO.setSelectedValue("WITHOUT_CURRENCY_UNIT");
}

var negativeNumberDisplayValue = DS_1.getNegativeNumberDisplay();

if(negativeNumberDisplayValue == NegativeNumberDisplay.LEADING_MINUS) {
	PANEL_MEASURE_DROPDOWN_NEGATIVE.setSelectedValue("LEADING_MINUS");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.PARENTHESES) {
	PANEL_MEASURE_DROPDOWN_NEGATIVE.setSelectedValue("PARENTHESES");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.TRAILING_MINUS) {
	PANEL_MEASURE_DROPDOWN_NEGATIVE.setSelectedValue("TRAILING_MINUS");
}

// initialize the ui elements in dialog
PANEL_MEASURE_PREVIEW.setVisible(true);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="onDataSourceReload"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
if(!DATA_SOURCE_RELOAD_LOCK) {
	SCRIPT_SETTINGS.showContent();
	
	SCRIPT_SETTINGS.prepareCondEx();
	SCRIPT_SETTINGS.preparePropertiesData();
	SCRIPT_SETTINGS.preparePropertiesDataSource();
	SCRIPT_SETTINGS.preparePropertiesMeasures();
	SCRIPT_SETTINGS.preparePropertiesDimensions();
	
	TITLE_TEXT.setText("");
	TEXT_SETTINGS.setText("");
	
	SCRIPT_DS.updateTitle();
	var id = SCRIPT_STATE.reloadGallery();
	
	DEFINE_GALLERY.setSelectedId(id);
	SCRIPT_LOGIC.loadVisualization(id);
	
	var qDescr = DS_1.getInfo().queryDescription;
	if(qDescr == "") {
		qDescr = XNAME;
	}
	
	TEXT_BOTTOM_DATA_SOURCE.setText(XTYPE + ": " + qDescr + " [" + XNAME + "]");
	
	SCRIPT_DS.updateFilters();
	
	DATA_SOURCE_RELOAD_LOCK = true;
}
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="workarounds"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DIALOG_OPEN_SEARCH_INPUT.setValidState("None");

// DIALOG_OPEN_SEARCH_TREE.addNode("QUERY|0BICS_009_BICSTEST_Q0007", "0BICS_009_BICSTEST_Q0007", "", "QUERY");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="3">
					<bi:property name="NAME" value="showContent"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DEFINE_MAIN_PANEL.setVisible(true);
BOTTOM_MAIN_PANEL.setVisible(true);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="4">
					<bi:property name="NAME" value="preparePropertiesDataSource"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var totalsColumns = DS_1.getTotalsPosition(Axis.COLUMNS);
if(totalsColumns == TotalsPosition.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("DEFAULT");
}
if(totalsColumns == TotalsPosition.BEFORE) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("BEFORE");
}
if(totalsColumns == TotalsPosition.AFTER) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("AFTER");
}

var totalsRows = DS_1.getTotalsPosition(Axis.ROWS);
if(totalsRows == TotalsPosition.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("DEFAULT");
}
if(totalsRows == TotalsPosition.BEFORE) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("BEFORE");
}
if(totalsRows == TotalsPosition.AFTER) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("AFTER");
}


var zeroDisplayValue = DS_1.getZeroDisplay();
	
var enabledCustom = false;
if(zeroDisplayValue == ZeroDisplay.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("DEFAULT");
}
if(zeroDisplayValue == ZeroDisplay.CUSTOM) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("CUSTOM");	
	
	PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue(DS_1.getZeroDisplayCustomText());
	enabledCustom = true;	
}
if(zeroDisplayValue == ZeroDisplay.EMPTY_CELL) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("EMPTY_CELL");
}
if(zeroDisplayValue == ZeroDisplay.WITHOUT_CURRENCY_UNIT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("WITHOUT_CURRENCY_UNIT");
}

PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(enabledCustom);

if(!enabledCustom) {
	PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue("");
}

var negativeNumberDisplayValue = DS_1.getNegativeNumberDisplay();

// APPLICATION.createErrorMessage("negative: " + negativeNumberDisplayValue);

if(negativeNumberDisplayValue == NegativeNumberDisplay.LEADING_MINUS) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("LEADING_MINUS");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.PARENTHESES) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("PARENTHESES");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.TRAILING_MINUS) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("TRAILING_MINUS");
}

]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="5">
					<bi:property name="NAME" value="preparePropertiesData"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// General
CHECKBOX_SHOW_TITLE.setChecked(TITLE_TEXT.isVisible());

// Chart
// not possible yet

// Crosstab
CHECKBOX_ALLOW_SORTING.setChecked(CROSSTAB.isSortingEnabled());
CHECKBOX_ALLOW_HIERARCHY.setChecked(CROSSTAB.isHierarchyNavigationEnabled());
CHECKBOX_ALLOW_RESIZE.setChecked(CROSSTAB.isColumnResizingEnabled());
CHECKBOX_SHOW_COND_FORMAT.setChecked(CROSSTAB.isConditionalFormattingVisible());


var totalsColumns = DS_1.getTotalsPosition(Axis.COLUMNS);
if(totalsColumns == TotalsPosition.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("DEFAULT");
}
if(totalsColumns == TotalsPosition.BEFORE) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("BEFORE");
}
if(totalsColumns == TotalsPosition.AFTER) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.setSelectedValue("AFTER");
}

var totalsRows = DS_1.getTotalsPosition(Axis.ROWS);
if(totalsRows == TotalsPosition.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("DEFAULT");
}
if(totalsRows == TotalsPosition.BEFORE) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("BEFORE");
}
if(totalsRows == TotalsPosition.AFTER) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.setSelectedValue("AFTER");
}


var zeroDisplayValue = DS_1.getZeroDisplay();
	
var enabledCustom = false;
if(zeroDisplayValue == ZeroDisplay.DEFAULT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("DEFAULT");
}
if(zeroDisplayValue == ZeroDisplay.CUSTOM) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("CUSTOM");	
	
	PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue(DS_1.getZeroDisplayCustomText());
	enabledCustom = true;	
}
if(zeroDisplayValue == ZeroDisplay.EMPTY_CELL) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("EMPTY_CELL");
}
if(zeroDisplayValue == ZeroDisplay.WITHOUT_CURRENCY_UNIT) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.setSelectedValue("WITHOUT_CURRENCY_UNIT");
}

PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setEnabled(enabledCustom);

if(!enabledCustom) {
	PANEL_SETTINGS_DATA_GENERAL_INPUTFIELD_CUSTOM_ZERO.setValue("");
}

var negativeNumberDisplayValue = DS_1.getNegativeNumberDisplay();

// APPLICATION.createErrorMessage("negative: " + negativeNumberDisplayValue);

if(negativeNumberDisplayValue == NegativeNumberDisplay.LEADING_MINUS) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("LEADING_MINUS");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.PARENTHESES) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("PARENTHESES");
}
if(negativeNumberDisplayValue == NegativeNumberDisplay.TRAILING_MINUS) {
	PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.setSelectedValue("TRAILING_MINUS");
}

]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="6">
					<bi:property name="NAME" value="prepareCondEx"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
if(PANEL_CONDEXC.isVisible()) {
	
	var conditions = DS_1.getMeasureFilters();
	DROPDOWN_CONDITIONS.removeAllItems();

	// Conditions
	if(conditions.length > 0) {
		conditions.forEach(function(element, index) {
			var conditionName = DS_1.getMeasureFilterName(element);
			var conditionActive = DS_1.isMeasureFilterActive(element);
			
			if(conditionActive) {
				conditionName = "[active] " + conditionName;
			}
			
			DROPDOWN_CONDITIONS.addItem(element, conditionName);
		});

		DROPDOWN_CONDITIONS.setEnabled(true);
		BUTTON_COND_SWITCH.setEnabled(true);
	} else {
		DROPDOWN_CONDITIONS.addItem("NAN", "No Measure Filters");
		
		DROPDOWN_CONDITIONS.setEnabled(false);
		BUTTON_COND_SWITCH.setEnabled(false);
	}
	
	var exceptions = DS_1.getConditionalFormats();
	DROPDOWN_EXCEPTIONS.removeAllItems();
	
	// Exceptions
	if(exceptions.length > 0) {
		exceptions.forEach(function(element, index) {
			var exceptionName = DS_1.getConditionalFormatName(element);
			var exceptionsActive = DS_1.isConditionalFormatActive(element);
			
			if(exceptionsActive) {
				exceptionName = "[active] " + exceptionName;
			}
			
			DROPDOWN_EXCEPTIONS.addItem(element, exceptionName);
		});
		
		DROPDOWN_EXCEPTIONS.setEnabled(true);
		BUTTON_EXC_SWITCH.setEnabled(true);
	} else {
		DROPDOWN_EXCEPTIONS.addItem("NAN", "No Conditional Formats");
		
		DROPDOWN_EXCEPTIONS.setEnabled(false);
		BUTTON_EXC_SWITCH.setEnabled(false);
	}
}
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="7">
					<bi:property name="NAME" value="preparePropertiesDimensions"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// first set the values you want to edit in the dialog...

// read all dimensions
var dimenstions = DS_1.getDimensions();

PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.removeAllItems();

PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.addItem("-N/A-", "- select dimension -");

dimenstions.forEach(function(dimension, index) {
	if(!dimension.isMeasuresDimension) {
		PANEL_DATA_DIM_SELECT_DROPDOWN_DIMENSIONS.addItem(dimension.name, dimension.text);
	}
});

DIA_DIMENSIONS_RBG_DISPLAY.setEnabled(false);
DIA_DIMENSIONS_RBG_SHOW_TOTALS.setEnabled(false);
PANEL_DATA_DIM_SELECT_DROPDOWN_HIER.setEnabled(false);
HIER_TOGGLE.setEnabled(false);
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_DIALOG" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="callOpenDialog"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
SCRIPT_DIALOG.openDialogShared();
DIALOG_OPEN.setVisible(true);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="searchDataSource"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var inputString = DIALOG_OPEN_SEARCH_INPUT.getValue();
APPLICATION.log("Open Dialog Search for Data Source:  " + inputString);

var objectsFromSystem = APPLICATION.searchDataSources(XSYSTEM, inputString);

SCRIPT_DIALOG.resetTree();

objectsFromSystem.forEach(function(dataSourceDescription, index) {
  var type = dataSourceDescription.type;
  var name = dataSourceDescription.name;
  var text = dataSourceDescription.description;
  
  DIALOG_OPEN_SEARCH_TREE.addNode(name + "|" + type, text + " [" + name + "]", "", type);
});
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="openDataSource"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
XTYPE = type;
XNAME = name;

DS_1.assignDataSource(XSYSTEM, type, name);

DATA_SOURCE_RELOAD_LOCK = false;

SCRIPT_SETTINGS.onDataSourceReload();
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="type"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="name"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="3">
					<bi:property name="NAME" value="resetTree"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DIALOG_OPEN_SEARCH_TREE.removeAllNodes();

DIALOG_OPEN_SEARCH_TREE.addNode("QUERY", "Type: Query", "", "ROOT");
DIALOG_OPEN_SEARCH_TREE.addNode("VIEW", "Type: Query View", "", "ROOT");
DIALOG_OPEN_SEARCH_TREE.addNode("INFOPROVIDER", "Type: Info Provider", "", "ROOT");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="4">
					<bi:property name="NAME" value="closeDialogShared"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DEFINE_MAIN_PANEL.setVisible(true);
COMPOSE_MAIN_PANEL.setVisible(false);
DIALOG_BACKGROUND.setVisible(false);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="5">
					<bi:property name="NAME" value="openDialogShared"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DEFINE_MAIN_PANEL.setVisible(false);
COMPOSE_MAIN_PANEL.setVisible(false);
SHARE_MAIN_PANEL.setVisible(false);
BOTTOM_MAIN_PANEL.setVisible(false);
DIALOG_BACKGROUND.setVisible(true);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="6">
					<bi:property name="NAME" value="callSaveCompositionDialog"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DIALOG_BACKGROUND.setVisible(true);
DIALOG_SAVE_COMPOSITION.setVisible(true);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="7">
					<bi:property name="NAME" value="callShareComposition"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var id = SHARE_RADIOS.getSelectedValue();

DEBUG.log("Share Id: " + id);

var url = Bookmark.getBookmarkUrl(id);
url = Convert.replaceAll(url, "BOOKMARK=", "XCOMPOSITION=");

DEBUG.log("Share Url: " + url);

Bookmark.shareBookmark(url);
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_SETUP" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="setupPropertiesDataSource"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.removeAllItems();
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.addItem("DEFAULT", "Query Default");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.addItem("EMPTY_CELL", "Empty Cell");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.addItem("WITHOUT_CURRENCY_UNIT", "Without Currency");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_ZERO_DISPLAY.addItem("CUSTOM", "Custom");

PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.removeAllItems();
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.addItem("LEADING_MINUS", "Leading Minus");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.addItem("PARENTHESES", "Parentheses");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_NEGATIVE_NUMBER_DISPLAY.addItem("TRAILING_MINUS", "Trailing Minus");

PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.removeAllItems();
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.addItem("DEFAULT", "Query Default");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.addItem("BEFORE", "Before");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_COLUMN.addItem("AFTER", "After");

PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.removeAllItems();
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.addItem("DEFAULT", "Query Default");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.addItem("BEFORE", "Before");
PANEL_SETTINGS_DATA_GENERAL_DROPDOWN_TOTALS_ROWS.addItem("AFTER", "After");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="setupPropertiesMeasures"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// decimals initialisation
PANEL_MEASURE_DROPDOWN_DECIMALS.setEnabled(false);
PANEL_MEASURE_DROPDOWN_DECIMALS.removeAllItems();
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("DEFAULT", "Query Default");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("0", "0 (0)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("1", "0.0 (1)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("2", "0.00 (2)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("3", "0.000 (3)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("4", "0.0000 (4)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("5", "0.00000 (5)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("6", "0.000000 (6)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("7", "0.0000000 (7)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("8", "0.00000000 (8)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("9", "0.000000000 (9)");
PANEL_MEASURE_DROPDOWN_DECIMALS.addItem("10", "0.0000000000 (10)");

// scaling initialisation
PANEL_MEASURE_DROPDOWN_SCALING.setEnabled(false);
PANEL_MEASURE_DROPDOWN_SCALING.removeAllItems();
PANEL_MEASURE_DROPDOWN_SCALING.addItem("DEFAULT", "Query Default");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("1", "1");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("2", "10");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("3", "100");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("4", "1.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("5", "10.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("6", "100.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("7", "1.000.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("8", "10.000.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("9", "100.000.000");
PANEL_MEASURE_DROPDOWN_SCALING.addItem("10", "1.000.000.000");

// zero initialisation
PANEL_MEASURE_DROPDOWN_ZERO.removeAllItems();
PANEL_MEASURE_DROPDOWN_ZERO.addItem("DEFAULT", "Query Default");
PANEL_MEASURE_DROPDOWN_ZERO.addItem("EMPTY_CELL", "Empty Cell");
PANEL_MEASURE_DROPDOWN_ZERO.addItem("WITHOUT_CURRENCY_UNIT", "Without Currency");
PANEL_MEASURE_DROPDOWN_ZERO.addItem("CUSTOM", "Custom");

// negative initialisation
PANEL_MEASURE_DROPDOWN_NEGATIVE.removeAllItems();
PANEL_MEASURE_DROPDOWN_NEGATIVE.addItem("LEADING_MINUS", "Leading Minus: -56");
PANEL_MEASURE_DROPDOWN_NEGATIVE.addItem("PARENTHESES", "Parentheses: (56)");
PANEL_MEASURE_DROPDOWN_NEGATIVE.addItem("TRAILING_MINUS", "Trailing Minus: 56-");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="onSetup"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
CHART.setVisible(true);
CROSSTAB.setVisible(false);

SCRIPT_SETUP.setupChartTypes();
SCRIPT_SETUP.setupOpenDialog();
SCRIPT_SETUP.setupPropertiesDataSource();
SCRIPT_SETUP.setupPropertiesMeasures();
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="3">
					<bi:property name="NAME" value="setupOpenDialog"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DIALOG_OPEN_SELECTED_DROP_TYPE.addItem("QUERY", "Query");
DIALOG_OPEN_SELECTED_DROP_TYPE.addItem("VIEW", "Query View");
DIALOG_OPEN_SELECTED_DROP_TYPE.addItem("INFOPROVIDER", "Info Provider");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="4">
					<bi:property name="NAME" value="setupChartTypes"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[DROPDOWN_CHART_TYPE.addItem("VERTICAL_BAR", "Column Chart");
DROPDOWN_CHART_TYPE.addItem("STACKED_COLUMN", "Stacked Column");
DROPDOWN_CHART_TYPE.addItem("STACKED_100_COLUMN", "100% Stacked Column");
DROPDOWN_CHART_TYPE.addItem("COLUMN_COMBINATION", "Column Combination");
DROPDOWN_CHART_TYPE.addItem("DUAL_COLUMN", "Dual Column");

DROPDOWN_CHART_TYPE.addItem("HORIZONTAL_BAR", "Bar");
DROPDOWN_CHART_TYPE.addItem("STACKED_BAR", "Stacked Bar");
DROPDOWN_CHART_TYPE.addItem("STACKED_100_BAR", "100% Stacked Bar");
DROPDOWN_CHART_TYPE.addItem("BAR_COMBINATION", "Bar Combination");
DROPDOWN_CHART_TYPE.addItem("DUAL_BAR", "Dual Bar");

DROPDOWN_CHART_TYPE.addItem("LINE", "Line Chart");
DROPDOWN_CHART_TYPE.addItem("HORIZONTAL_LINE", "Horizontal Line Chart");
DROPDOWN_CHART_TYPE.addItem("DUAL_LINE", "Dual Line");
DROPDOWN_CHART_TYPE.addItem("DUAL_COMBINATION", "Dual Combination");
DROPDOWN_CHART_TYPE.addItem("DUAL_HORIZONTAL_COMBINATION", "Dual Horizontal Combination");

DROPDOWN_CHART_TYPE.addItem("PIE", "Pie");
DROPDOWN_CHART_TYPE.addItem("MULTI_PIE", "Multiple Pie");
DROPDOWN_CHART_TYPE.addItem("WATERFALL", "Waterfall");
DROPDOWN_CHART_TYPE.addItem("HORIZONTAL_WATERFALL", "Horizontal Waterfall");
DROPDOWN_CHART_TYPE.addItem("STACKED_WATERFALL", "Stacked Waterfall");

DROPDOWN_CHART_TYPE.addItem("SURFACE", "Surface");
DROPDOWN_CHART_TYPE.addItem("HORIZONTAL_AREA", "Horizontal Area");
DROPDOWN_CHART_TYPE.addItem("RADAR", "Radar");
DROPDOWN_CHART_TYPE.addItem("MULTI_RADAR", "Multipe Radar");
DROPDOWN_CHART_TYPE.addItem("BUBBLE", "Bubble");
DROPDOWN_CHART_TYPE.addItem("SCATTER", "Scatter");]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="5">
					<bi:property name="NAME" value="setupPropertiesDimensions"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[

]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_STATE" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="openDialogSave"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// part 1, save the visualization information
var bookmarkIdViz = "";
var bookmarksViz = Bookmark.PortableFragmentBookmark.getAllBookmarkInfos("ORG_SCN_GLOBAL_OPEN_DIALOG");
bookmarksViz.forEach(function(element, index) {
	// we expect only one!
	if(index == 0) {
 		bookmarkIdViz = element.id;
	}
});

// first time there is no bookmark
if(bookmarkIdViz == "") {
	bookmarkIdViz=Bookmark.PortableFragmentBookmark.saveBookmark("ORG_SCN_GLOBAL_OPEN_DIALOG", DIALOG_OPEN_CONTENT_DYNAMIC).id;	
} else {
	// or overwrite existing
	Bookmark.PortableFragmentBookmark.deleteBookmark(bookmarkIdViz);	
	bookmarkIdViz=Bookmark.PortableFragmentBookmark.saveBookmark("ORG_SCN_GLOBAL_OPEN_DIALOG", DIALOG_OPEN_CONTENT_DYNAMIC).id;	
}

DEBUG.log("Save Open Dialog State into Id: " + bookmarkIdViz);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="openDialogRestore"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// Bookmark.PortableFragmentBookmark.deleteAllBookmarks("ORG_SCN_GLOBAL_OPEN_DIALOG");

// overwrite logic
var bookmarkIdViz = "";
var bookmarksViz = Bookmark.PortableFragmentBookmark.getAllBookmarkInfos("ORG_SCN_GLOBAL_OPEN_DIALOG");

DEBUG.log("Restore Open Dialog: Size: " + bookmarksViz.length);

bookmarksViz.forEach(function(element, index) {
	// we expect only one!
	if(index == 0) {
 		bookmarkIdViz = element.id;
	}
});

DEBUG.log("Restore Open Dialog: Id: " + bookmarkIdViz);

// first time there is no bookmark
if(bookmarkIdViz == "") {

} else {
	// or load this
	Bookmark.PortableFragmentBookmark.loadBookmark(bookmarkIdViz);	
}
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="fragmentSave"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var vizGroupKey = "GLOB_V_" + SCRIPT_STATE.getObjectKey();

// part 1, save the visualization information
var bookmarkIdViz = DEFINE_GALLERY.getSelectedId();

DEBUG.log("Selected Visualization Id: " + bookmarkIdViz);

var title = "";
if(COLLECTION_VISUALIZATIONS.getLength() > 0){
	var date = COLLECTION_VISUALIZATIONS.getLabelByKey(bookmarkIdViz);
	title = SCRIPT_STATE.getObjectTitle(date);
} else {
	title = SCRIPT_STATE.getObjectTitle("");
}

var bookmarkVizIdNew = "";

// first time there is no bookmark
if(bookmarkIdViz == "") {
	Bookmark.PortableFragmentBookmark.saveBookmark(vizGroupKey, DEFINE_CENTER_PANEL, title);	
} else {
	// or overwrite existing
	Bookmark.PortableFragmentBookmark.deleteBookmark(bookmarkIdViz);	
	Bookmark.PortableFragmentBookmark.saveBookmark(vizGroupKey, DEFINE_CENTER_PANEL, title);	
}

var newId = SCRIPT_STATE.reloadGallery();
DEFINE_GALLERY.setSelectedId(newId);
DEBUG.log("Visualization Save Id: " + DEFINE_GALLERY.getSelectedId());
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="3">
					<bi:property name="NAME" value="getObjectKey"/>
					<bi:property name="RETURN_TYPE" value="String"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var sys = Convert.replaceAll(XSYSTEM, ":", "_");
sys = Convert.replaceAll(sys, " ", "_");
sys = Convert.replaceAll(sys, "[", "_");
sys = Convert.replaceAll(sys, "]", "_");

var type = Convert.replaceAll(XTYPE, ":", "");
var name = Convert.replaceAll(XNAME, ":", "");

var key = sys + "_" + type + "_" + name;
DEBUG.log("calculated Visualization Key: " + key);

return key;
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="4">
					<bi:property name="NAME" value="reloadGallery"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[var newId = "";

var vizGroupKey = "GLOB_V_" + SCRIPT_STATE.getObjectKey();

// part 1, save the visualization information
var bookmarksViz = Bookmark.PortableFragmentBookmark.getAllBookmarkInfos(vizGroupKey);

DEBUG.log("Reload: " + bookmarksViz.length);

if(bookmarksViz.length == 0) {
	SCRIPT_STATE.fragmentAdd();
	
	bookmarksViz = Bookmark.PortableFragmentBookmark.getAllBookmarkInfos(vizGroupKey);
}

var allKeys = COLLECTION_VISUALIZATIONS.getKeys(",");

COLLECTION_VISUALIZATIONS.removeAllItems();
bookmarksViz.forEach(function(element, index) {

	var title = element.title;
	var date = "";
	var split = title.split(" (");
	split.forEach(function(element, index) {
		// last index is date
		if(index == split.length - 1) {
	  		date = element;
	  		date = Convert.replaceAll(date, ")", "");
		}
	});

	COLLECTION_VISUALIZATIONS.addItem(element.id, date, 0.0);
});

DEBUG.log("Collection: " + COLLECTION_VISUALIZATIONS.getKeys());

// assure all sorted by creation date
COLLECTION_VISUALIZATIONS.sortByLabel();

DEFINE_GALLERY.removeAllItems();
COMPOSE_GALLERY.removeAllItems();

var returnArray = COLLECTION_VISUALIZATIONS.getAsKeyLabelValuePropertyArray();

DEBUG.log("Collection: " + returnArray.length);

returnArray.forEach(function(collectionElement, index) {
	bookmarksViz.forEach(function(fragmentElement, index) {
		DEBUG.log("Check: " + Convert.formatString("{0}", [fragmentElement.id]) + " ? " + collectionElement.key);
	  	if(fragmentElement.id == collectionElement.key) {
			if(allKeys.indexOf(collectionElement.key) == -1) {
				// this is the new one
				newId = collectionElement.key;
			}
			
	  		DEFINE_GALLERY.addItem(fragmentElement);
	  		COMPOSE_GALLERY.addItem(fragmentElement);
	  	}
	});
});

if(newId == "") {
	newId = COLLECTION_VISUALIZATIONS.getKeyByIndex(0);
	
	SCRIPT_LOGIC.loadVisualization(newId);
}

return newId;]]></bi:value>
					</bi:property>
					<bi:property name="RETURN_TYPE" value="String"/>
				</bi:property>
				<bi:property name="FUNCTION" index="5">
					<bi:property name="NAME" value="fragmentAdd"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var vizGroupKey = "GLOB_V_" + SCRIPT_STATE.getObjectKey();

var title = SCRIPT_STATE.getObjectTitle("");

// part 1, save the visualization information
Bookmark.PortableFragmentBookmark.saveBookmark(vizGroupKey, DEFINE_CENTER_PANEL, title);	

var newId = SCRIPT_STATE.reloadGallery();

DEFINE_GALLERY.setSelectedId(newId);
DEBUG.log("Visualization Add Id: " + DEFINE_GALLERY.getSelectedId());
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="6">
					<bi:property name="NAME" value="getObjectTitle"/>
					<bi:property name="RETURN_TYPE" value="String"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var title = "";

title = TITLE_TEXT.getText();

if(date == "") {
	title = title + " (" + APPLICATION.getInfo().dateNowInternalFormat + ")";
} else {
	title = title + " (" + date + ")";
}

DEBUG.log("Old Title for Object : " + date);
DEBUG.log("Title for Object : " + title);

return title;
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="date"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="7">
					<bi:property name="NAME" value="fragmentDelete"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var vizGroupKey = "GLOB_V_" + SCRIPT_STATE.getObjectKey();

// part 1, save the visualization information
var bookmarkIdViz = DEFINE_GALLERY.getSelectedId();

DEBUG.log("Selected Visualization Id: " + bookmarkIdViz);

// first time there is no bookmark
if(bookmarkIdViz != "") {
	Bookmark.PortableFragmentBookmark.deleteBookmark(bookmarkIdViz);
} 

var newId = SCRIPT_STATE.reloadGallery();
DEFINE_GALLERY.setSelectedId(newId);
DEBUG.log("Visualization Save Id: " + DEFINE_GALLERY.getSelectedId());
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="8">
					<bi:property name="NAME" value="fragmentDeleteAll"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var vizGroupKey = "GLOB_V_" + SCRIPT_STATE.getObjectKey();

var bookmarksViz = Bookmark.PortableFragmentBookmark.getAllBookmarkInfos(vizGroupKey);

bookmarksViz.forEach(function(element, index) {
  Bookmark.PortableFragmentBookmark.deleteBookmark(element.id);
});

DEBUG.log("Visualization Delete All : ");
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="9">
					<bi:property name="NAME" value="compositionSave"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// part 1, save the composition information

COMPOSITION_HEADER_TITLE.setText(name);
COMPOSITION_HEADER_DESCTIPTION.setText(description);

Bookmark.FragmentBookmark.saveBookmark(COMPOSE_PANEL_CONTENT, name, description);

DEBUG.log("Composition Add Id: " + DEFINE_GALLERY.getSelectedId());
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="name"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="description"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="10">
					<bi:property name="NAME" value="assureFragmentSaved"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
if(DEFINE_MAIN_PANEL.isVisible()) {
	SCRIPT_STATE.fragmentSave();

	NOTIFICATIONBAR.addInfoNotification("Auto Save", "SAVED");
}
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_LOGIC" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="treeSelection"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var key = oSelection;

var split = key.split("|");
var type = "";
var name = "";

split.forEach(function(element, index) {
  if(index == 0) {
  	name = element;
  }
  if(index == 1) {
  	type = element;
  }
});


DIALOG_OPEN_SELECTED_INPUT_NAME.setValue(name);

DIALOG_OPEN_SELECTED_DROP_TYPE.setSelectedValue(type);
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="oSource"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.Tree"/>
							<bi:property name="PARAMETER_DESC" value="the tree"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="oSelection"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
							<bi:property name="PARAMETER_DESC" value="selected key (type|name)"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="switchAppAreas"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
selectionButton.setButtonStyle(org_scn_community_shared_ButtonStyle.Emph);

if(selectionButton != HEADER_DEFINE) {
	HEADER_DEFINE.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);
} else {
	DEFINE_MAIN_PANEL.setVisible(true);
	COMPOSE_MAIN_PANEL.setVisible(false);
	SHARE_MAIN_PANEL.setVisible(false);
}

if(selectionButton != HEADER_COMPOSE) {
	HEADER_COMPOSE.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);
} else {
	DEFINE_MAIN_PANEL.setVisible(false);
	COMPOSE_MAIN_PANEL.setVisible(true);
	SHARE_MAIN_PANEL.setVisible(false);
}

if(selectionButton != HEADER_SHARE) {
	HEADER_SHARE.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);
} else {
	DEFINE_MAIN_PANEL.setVisible(false);
	COMPOSE_MAIN_PANEL.setVisible(false);
	SHARE_MAIN_PANEL.setVisible(true);
	
	SCRIPT_LOGIC.activateShare();
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="selectionButton"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.FioriButton"/>
							<bi:property name="PARAMETER_DESC" value="pressed button"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="loadVisualization"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
Bookmark.PortableFragmentBookmark.loadBookmark(id);

var index = COLLECTION_VISUALIZATIONS.getIndexByKey(id);
index = index + 1;
var size = COLLECTION_VISUALIZATIONS.size();

TEXT_COUNTER.setText(index + " of " + size);

CHECKBOX_SHOW_TITLE.setChecked(TITLE_TEXT.isVisible());

var settings = TEXT_SETTINGS.getText();
if(settings.indexOf("custom-text") >= 0) {
	INPUTFIELD_CUSTOM_TITLE.setValue(TITLE_TEXT.getText());
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="id"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
							<bi:property name="PARAMETER_DESC" value="visualization id"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="3">
					<bi:property name="NAME" value="activateHierarchy"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
DEBUG.log("Activate Hier: " + dimension + "->" + hierarchy);

DS_1.assignHierarchy(dimension, hierarchy);
DS_1.activateHierarchy(dimension);

DEBUG.log("is Active Hier?: " + DS_1.getAssignedHierarchy(dimension).name + "->" + DS_1.isHierarchyActive(dimension));

var dimensionsInRows = DS_1.getDimensions(Axis.ROWS);
dimensionsInRows.forEach(function(dimensionObject, index) {
  var hasActiveHierarchy = DS_1.isHierarchyActive(dimensionObject);
  
  if(hasActiveHierarchy) {
	SCRIPT_LOGIC.adjustMultilevelDropdown(dimensionObject.name);
  }
});
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="dimension"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="hierarchy"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="4">
					<bi:property name="NAME" value="deactivateHierarchy"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
SCRIPT_LOGIC.adjustMultilevelDropdown("");
DS_1.deactivateHierarchy(dimensionName);
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="dimensionName"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="5">
					<bi:property name="NAME" value="switchLeftArea"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
selected.setButtonStyle(org_scn_community_shared_ButtonStyle.Emph);

// deactivate
if(selected != LEFT_NAVIGATION) {
	LEFT_NAVIGATION.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);
}

if(selected != LEFT_CHART_TYPE) {
	LEFT_CHART_TYPE.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);	
}

// switch 
if(selected == LEFT_NAVIGATION) {
	DEFINE_PAGEBOOK_NAVIGATION.setSelectedPageByName("PAGE_NAVIGATION");
}

if(selected == LEFT_CHART_TYPE) {
	DEFINE_PAGEBOOK_NAVIGATION.setSelectedPageByName("PAGE_CHART_TYPE");
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="selected"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.FioriButton"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="6">
					<bi:property name="NAME" value="switchRightArea"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
selected.setButtonStyle(org_scn_community_shared_ButtonStyle.Emph);

// deactivate
if(selected != RIGHT_DATA) {
	RIGHT_DATA.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);
}

if(selected != RIGHT_DIMENSION) {
	RIGHT_DIMENSION.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);	
}

if(selected != RIGHT_FORMAT) {
	RIGHT_FORMAT.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);	
}

if(selected != RIGHT_MEASURE) {
	RIGHT_MEASURE.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);	
}

if(selected != RIGHT_FRAGMENT) {
	RIGHT_FRAGMENT.setButtonStyle(org_scn_community_shared_ButtonStyle.Default);	
}

// switch 
if(selected == RIGHT_DATA) {
	DEFINE_PAGEBOOK_SETTINGS.setSelectedPageByName("PAGE_DATA");
}

if(selected == RIGHT_DIMENSION) {
	DEFINE_PAGEBOOK_SETTINGS.setSelectedPageByName("PAGE_DIMENSION");
}

if(selected == RIGHT_FORMAT) {
	DEFINE_PAGEBOOK_SETTINGS.setSelectedPageByName("PAGE_FORMAT");
}

if(selected == RIGHT_MEASURE) {
	DEFINE_PAGEBOOK_SETTINGS.setSelectedPageByName("PAGE_MEASURE");
}

if(selected == RIGHT_FRAGMENT) {
	DEFINE_PAGEBOOK_SETTINGS.setSelectedPageByName("PAGE_FRAGMENT");
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="selected"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.FioriButton"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="7">
					<bi:property name="NAME" value="activateShare"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var bookmarks = Bookmark.FragmentBookmark.getAllBookmarkInfos();

SHARE_RADIOS.removeAllItems();
SHARE_RADIOS.addItem("-N/A-", "Make a Selection...");

bookmarks.forEach(function(book, index) {
	TEXT_COMPOSITION_SELECTED.setText(book.id);
	
	var idNew = TEXT_COMPOSITION_SELECTED.getText();
	DEBUG.log("Adding Composition: " + idNew);
	
	SHARE_RADIOS.addItem(idNew, book.title + ": " + book.description);
});

SHARE_QRCODE.setVisible(false);
SHARE_LINK.setVisible(false);
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="8">
					<bi:property name="NAME" value="updateSelectedComposition"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var id = SHARE_RADIOS.getSelectedValue();

SHARE_LINK.setVisible(false);
if(id == "-N/A-") {
	SHARE_QRCODE.setVisible(false);	
} else {
	SHARE_QRCODE.setVisible(true);	
			
	DEBUG.log("Share Id: " + id);
	
	var url = Bookmark.getBookmarkUrl(id);
	url = Convert.replaceAll(url, "BOOKMARK=", "XCOMPOSITION=");
	
	DEBUG.log("Share Url: " + url);
	
	SHARE_QRCODE.setText(url);
	SHARE_LINK.setVisible(true);
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="id"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="9">
					<bi:property name="NAME" value="adjustMultilevelDropdown"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
if(dimension == "") {
	MULTILEVEL_FILTER.setVisible(false);
	MULTILEVELDROPDOWN.setDimension("");
} else {
	MULTILEVELDROPDOWN.setDimension(dimension);
	MULTILEVEL_FILTER.setVisible(true);
}
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="dimension"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_DS" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="updateTitle"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[// TITLE_CALCULATOR.onClick()
var titleCol = "";
var counter = 0;

var measuresDimension = DS_1.getMeasuresDimension();
var measuresDimensionName = measuresDimension.name;

var dimentionsColumns = DS_1.getDimensions(Axis.COLUMNS);

if(dimentionsColumns.length == 0) {
	// currently no text for this
} else {
	dimentionsColumns.forEach(function(colElement, index) {
		var textToRender = colElement.text;
		
		if(colElement.name == measuresDimensionName) {
			textToRender = measuresDimensionName;
		}

		if(counter == 0) {
			titleCol = titleCol + textToRender;
	  	}
	
	  	if(counter == 1) {
			titleCol = titleCol + " and " + textToRender;
		}
	
	  	if(counter == 2) {
			titleCol = titleCol + "... ";
		}

		counter = counter + 1;
	});
	}

var titleRow = "";
counter = 0;

var dimentionsRows = DS_1.getDimensions(Axis.ROWS);
dimentionsRows.forEach(function(rowElement, index) {
	var textToRenderRows = rowElement.text;
	
	if(rowElement.name == measuresDimensionName) {
		textToRenderRows = measuresDimensionName;
	}

	if(counter == 0) {
		titleRow = titleRow + textToRenderRows;
  	}

  	if(counter == 1) {
		titleRow = titleRow + " and " + textToRenderRows;
	}

  	if(counter == 2) {
		titleRow = titleRow + "... ";
	}

	counter = counter + 1;
});

var title = "";

if(titleCol != "") {
	title = titleCol;
}

if(titleRow != ""){
	title = title + " by ";
	title = title + titleRow;
}


DEBUG.log("Title: " + title);
DEBUG.log("Key Figfures: " + measuresDimensionName);

// fix "Key Figures"
if(measuresDimensionName != "") {
	var filteredMembers = "";
	var filter = DS_1.getFilterText(measuresDimensionName);
	var members = DS_1.getMembers(measuresDimensionName, 3);
	
DEBUG.log("Filter: " + filter);
	
	var counterMembers = 0;
	
	members.forEach(function(element, index) {
		var memberText = element.text;
		
		if (filter == "" || (filter != "" && filter.indexOf(memberText) > -1)){
			if(counterMembers == 0) {
				filteredMembers = memberText;
	  		}
	
		  	if(counterMembers == 1) {
				 filteredMembers = filteredMembers + " and " + memberText;
			}
	
	  		if(counterMembers == 2) {
				filteredMembers = filteredMembers + "... ";
			}
	
			counterMembers = counterMembers + 1;
		}
	});
	
	title = " " + title + " ";
	
	title = Convert.replaceAll(title, measuresDimensionName, filteredMembers);
	
DEBUG.log("Filtered Members: " + filteredMembers);
}

if(title == "  ") {
	title == "incomplete definition";
}

CURRENT_TITLE = title;
var settings = TEXT_SETTINGS.getText();

if(settings.indexOf("custom-text") < 0) {
	TITLE_TEXT.setText(CURRENT_TITLE);	
}

// APPLICATION.createErrorMessage(settings + " / " + TEXT_DESCR.getText());


// TITLE_CALCULATOR.onClick()
var queryDescr = DS_1.getInfo().queryDescription;
var queryTech = DS_1.getInfo().queryTechnicalName;

if(queryDescr == "") {
	queryDescr = queryTech;
}

var infoProvDescr = DS_1.getInfo().infoProviderDescription;

if(infoProvDescr == "") {
	infoProvDescr = DS_1.getInfo().infoProviderTechnicalName;
}

var description = queryDescr;
var descrLum = "\"" + infoProvDescr + "\".\"" + queryDescr + "\"";

// TEXT_QUERY_DESC.setText(description + " [" + queryTech + "]");
// TEXT_QUERY_DESC_LONG.setText(description + " [" + queryTech + "]");



]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="onDsChange"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[if(DEFINE_MAIN_PANEL.isVisible()) {
	// updat the title
	SCRIPT_DS.updateTitle();
	SCRIPT_DS.updateFilters();
	
	UNDO_BOOKMARK_ID = "";
	
	SCRIPT_SETTINGS.onDataSourceReload();	

	// auto save visualization
	SCRIPT_STATE.assureFragmentSaved();
}]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="2">
					<bi:property name="NAME" value="updateFilters"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
var dimensionsInRows = DS_1.getDimensions(Axis.ROWS);
dimensionsInRows.forEach(function(dimensionObject, index) {
  var hasActiveHierarchy = DS_1.isHierarchyActive(dimensionObject);
  
  if(hasActiveHierarchy) {
	SCRIPT_LOGIC.adjustMultilevelDropdown(dimensionObject.name);
  }
});
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="DEBUG" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="log"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// for debug purposes only
// APPLICATION.log(message);
]]></bi:value>
					</bi:property>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="message"/>
							<bi:property name="PARAMETER_TYPE" value="String"/>
						</bi:property>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_FRAGMENT" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="onContentMenu"/>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="oSource"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.ActionSheetButton"/>
							<bi:property name="PARAMETER_DESC" value="the button"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="oMenu"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.ActionSheetButton"/>
							<bi:property name="PARAMETER_DESC" value="the menu left"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="2">
							<bi:property name="NAME" value="dataSource"/>
							<bi:property name="PARAMETER_TYPE" value="DataSourceAlias"/>
							<bi:property name="PARAMETER_DESC" value="the data source"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="3">
							<bi:property name="NAME" value="chart"/>
							<bi:property name="PARAMETER_TYPE" value="Chart"/>
							<bi:property name="PARAMETER_DESC" value="the chart"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="4">
							<bi:property name="NAME" value="crosstab"/>
							<bi:property name="PARAMETER_TYPE" value="Crosstab"/>
							<bi:property name="PARAMETER_DESC" value="the crosstab"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="5">
							<bi:property name="NAME" value="title"/>
							<bi:property name="PARAMETER_TYPE" value="Text"/>
							<bi:property name="PARAMETER_DESC" value="the title text"/>
						</bi:property>
					</bi:property>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
APPLICATION.createInfoMessage("Settings on: " + oSource.getSelectedKey());
APPLICATION.createInfoMessage("Settings on: " + chart.getChartType());
APPLICATION.createInfoMessage("Settings on: " + title.getText());
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="onContentSettings"/>
					<bi:property name="INPUT_PARAMETERS" type="ORDEREDLIST">
						<bi:property name="INPUT_PARAMETER" index="0">
							<bi:property name="NAME" value="oSource"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.ActionSheetButton"/>
							<bi:property name="PARAMETER_DESC" value="the button"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="1">
							<bi:property name="NAME" value="oMenu"/>
							<bi:property name="PARAMETER_TYPE" value="org.scn.community.basics.ActionSheetButton"/>
							<bi:property name="PARAMETER_DESC" value="the menu left"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="2">
							<bi:property name="NAME" value="dataSource"/>
							<bi:property name="PARAMETER_TYPE" value="DataSourceAlias"/>
							<bi:property name="PARAMETER_DESC" value="the data source"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="3">
							<bi:property name="NAME" value="chart"/>
							<bi:property name="PARAMETER_TYPE" value="Chart"/>
							<bi:property name="PARAMETER_DESC" value="the chart"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="4">
							<bi:property name="NAME" value="crosstab"/>
							<bi:property name="PARAMETER_TYPE" value="Crosstab"/>
							<bi:property name="PARAMETER_DESC" value="the crosstab"/>
						</bi:property>
						<bi:property name="INPUT_PARAMETER" index="5">
							<bi:property name="NAME" value="title"/>
							<bi:property name="PARAMETER_TYPE" value="Text"/>
							<bi:property name="PARAMETER_DESC" value="the title text"/>
						</bi:property>
					</bi:property>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
APPLICATION.createInfoMessage("Settings on: " + oSource.getSelectedKey());
APPLICATION.createInfoMessage("Settings on: " + chart.getChartType());
APPLICATION.createInfoMessage("Settings on: " + title.getText());
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
		<bi:component name="SCRIPT_STARTUP" type="GLOBAL_SCRIPTS_COMPONENT">
			<bi:property name="FUNCTIONS" type="ORDEREDLIST">
				<bi:property name="FUNCTION" index="0">
					<bi:property name="NAME" value="onStartup"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// assure system ID is set, as there is no way to read all system sfrom repository
SCRIPT_STARTUP.setSystemId();
NOTIFICATIONBAR.addCategory("SAVED", "Auto Save", "");
	
// handle the view mode
if(XCOMPOSITION != "") {
	HEADER_PANEL.setVisible(false);
	DEFINE_MAIN_PANEL.setVisible(false);
	SHARE_MAIN_PANEL.setVisible(false);
	
	COMPOSE_MAIN_PANEL.setVisible(true);
	COMPOSE_PANEL_GALLERY.setVisible(false);
	HEADER_COMPOSE_RIGHT_MENU.setVisible(false);
	
	IMAGE_BOTTOM.setVisible(false);
	TEXT_BOTTOM_DATA_SOURCE.setVisible(false);
	
	COMPOSE_PANEL_LAYOUT.setTopMargin(0);
	COMPOSE_PANEL_LAYOUT.setLeftMargin(0);
		
	Bookmark.FragmentBookmark.loadBookmark(XCOMPOSITION);
	
	PANEL_COMPOSITION_TITLE.setVisible(true);
} else {
	SCRIPT_SETUP.onSetup();
	
	if(XSYSTEM != "" && XNAME != "" && XTYPE != "") {
		SCRIPT_DIALOG.openDataSource(XTYPE, XNAME);
		SCRIPT_SETTINGS.onDataSourceReload();	
	} else {
		SCRIPT_DIALOG.callOpenDialog();		
	}
	
	SCRIPT_STATE.openDialogRestore();
	HEADER_DEFINE.setButtonStyle(org_scn_community_shared_ButtonStyle.Emph);
	
	SCRIPT_SETTINGS.workarounds();
}
]]></bi:value>
					</bi:property>
				</bi:property>
				<bi:property name="FUNCTION" index="1">
					<bi:property name="NAME" value="setSystemId"/>
					<bi:property name="FUNCTION_BODY">
						<bi:value><![CDATA[
// here you can set the system ID
// use the method below to find it via value help on variable "dataSourceConnection"

//DS_1.assignDataSource(dataSourceConnection, dataSourceType, dataSourceName)

// this allows overwrite via URL
if(XSYSTEM == "") {
	XSYSTEM = "Q93 [PUBLIC]";	
}
]]></bi:value>
					</bi:property>
				</bi:property>
			</bi:property>
		</bi:component>
	</bi:component>
</bi:biapp>
